<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Phạm Tuấn Anh</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://phamtuananh1996.github.io/"/>
  <updated>2020-06-01T08:27:32.961Z</updated>
  <id>https://phamtuananh1996.github.io/</id>
  
  <author>
    <name>Phạm Tuấn Anh</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Xây dựng một website cực nhanh với Hexo và github pages</title>
    <link href="https://phamtuananh1996.github.io/2020/06/01/xay-dung-mot-website-cuc-nhanh-voi-hexo-va-github-pages/"/>
    <id>https://phamtuananh1996.github.io/2020/06/01/xay-dung-mot-website-cuc-nhanh-voi-hexo-va-github-pages/</id>
    <published>2020-06-01T08:26:57.000Z</published>
    <updated>2020-06-01T08:27:32.961Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mo-dau"><a href="#Mo-dau" class="headerlink" title="Mở đầu"></a>Mở đầu</h1><p>Bạn nghĩ sao về việc có 1 blog các nhân cho riêng mình. Vừa là nơi chia sẻ kiến thức của bản thân đồng thời cũng là 1 kênh để PR cho bản thân. Nhưng bạn lại không muốn mất quá nhiều thời gian để build lại blog từ đầu rồi là chọn công nghệ backend dùng gì fronend dùng gì. Rồi phải bỏ 1 số tiền cũng kha khá để thuê hosting với tên miền. Chưa kể đến là bạn không phải dân dev web thì sao?</p><p>Với hexo và github pages sẽ giải quyết các vấn đề trên giúp bạn !</p><h1 id="Hexo-la-gi"><a href="#Hexo-la-gi" class="headerlink" title="Hexo là gì"></a>Hexo là gì</h1><p><strong>Hexo</strong> là một blog framework mạnh mẽ, nó tạo static web một cách đơn giản và nhanh chóng hoàn toàn bằng NodeJS. Bạn có thể viết bài bằng Markdown hoặc các markup languages khác.</p><h1 id="Bat-dau-ngay-thoi-nao"><a href="#Bat-dau-ngay-thoi-nao" class="headerlink" title="Bắt đầu ngay thôi nào"></a>Bắt đầu ngay thôi nào</h1><p>Với hexo thì rất đơn giản để có ngay 1 website tĩnh với các câu lệnh sau: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-cli -g</span><br><span class="line">$ hexo init blog</span><br><span class="line">$ cd blog</span><br><span class="line">$ npm install</span><br><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>Vậy là xong tiếp theo là truy cập vào đường dẫn <a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a>  và xem kết quả:</p><p><img src="https://images.viblo.asia/c6fd18d0-b7f2-4ab0-bd42-1cfd6c882e2b.png" alt=""></p><p>Và done . Rất đơn giản  phải không nào </p><p>Tiếp theo là lên chọn 1 cái template thật lung linh , hexo cung cấp sẵn cho chúng khoảng 311 Themes tha hồ lựa chọn các bạn có thể xem qua ở đây: <a href="https://hexo.io/themes/" target="_blank" rel="noopener">https://hexo.io/themes/</a></p><p>Mình chọn đại 1 theme và add vào website của mình: <a href="https://github.com/cofess/hexo-theme-pure" target="_blank" rel="noopener">https://github.com/cofess/hexo-theme-pure</a></p><p><img src="https://raw.githubusercontent.com/cofess/hexo-theme-pure/master/screenshot/pure.png" alt=""></p><p>Tiếp theo là clone về và để ở thư mục blog/themes/pure :</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;cofess&#x2F;hexo-theme-pure.git themes&#x2F;pure</span><br></pre></td></tr></table></figure><p>và sửa file config blog/_config.yml :</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">pure</span></span><br></pre></td></tr></table></figure><p>Vậy là đã apply thành công theme mới rồi. thử xem kết quả xem sao: </p><p><img src="https://images.viblo.asia/78655537-3bc9-489a-a0df-c777790870d9.png" alt=""></p><p>Vậy là thành công rồi! </p><p>Để thêm 1 page hoặc 1 post chúng ta chạy câu lệnh sau :</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure><p>Layout sẽ có dạng sau: </p><table><thead><tr><th>Layout</th><th>Path</th></tr></thead><tbody><tr><td>post</td><td>source/_posts</td></tr><tr><td>page</td><td>source</td></tr><tr><td>draft</td><td>source/_drafts</td></tr></tbody></table><p>Mình sẽ thêm 1 bài post vào website với câu lệnh: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post first_post</span><br></pre></td></tr></table></figure><p>Sau khi chạy lênh xong thì nó có tạo ra cho chúng ta 1 file ở đường dẫn \blog\source_posts\first-post.md</p><p>mở file này lên và viết nội dung thôi:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: First post</span><br><span class="line">date: 2020-05-31 00:51:14</span><br><span class="line">tags: [&#39;post&#39;]</span><br><span class="line">---</span><br><span class="line">this is first post</span><br></pre></td></tr></table></figure><p>Lưu lại và run và kết quả :</p><p><img src="https://images.viblo.asia/1bb55d60-0ac2-4323-97bd-ba82ba05815b.png" alt=""></p><p>Có 1 bài xuất hiện rồi. giờ thì copy các bài đã viết từ viblo sang thôi và chỉnh sửa 1 số nội dung về profile ở trong file \blog\themes\pure_config.yml</p><p><img src="https://images.viblo.asia/e54eab8e-b19e-4a3b-b5f4-e37c148be58f.png" alt=""></p><p>Vậy là cũng có cái blog sương sương rồi.</p><p>Các bạn hoàn toàn có thể tạo ra cá page khác nữa như page about …..</p><h1 id="Deploy-website-len-github-pages"><a href="#Deploy-website-len-github-pages" class="headerlink" title="Deploy website lên github pages"></a>Deploy website lên github pages</h1><p>Việc tạo Github Pages khá đơn giản, trước tiên bạn phải có một tại khoản Github,  tạo mới một repo với name theo định dạng <github-username>.github.io , vì username account github của mình là phamtuananh1996 nên mình sẽ tạo một repo với name là phamtuananh1996.github.io</p><p>Khi đã tạo thành công Github Pages việc tiếp theo của chúng ta là sinh ra static web và deploy lên Github Pages để host. Khi đã deploy thì địa chỉ truy cập vào blog của bạn sẽ là: <github-username>.github.io .</p><p>Việc sinh ra static web và deploy trở nên khá đơn giản với Hexo chúng ta chỉ cần sửa file blog/_config.yml với nội dung như sau:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">    type: git</span><br><span class="line">    repo: https:&#x2F;&#x2F;github.com&#x2F;phamtuananh1996&#x2F;phamtuananh1996.github.io.git</span><br></pre></td></tr></table></figure><blockquote><p>Thay username thành username của các bạn.</p></blockquote><p>Tiến hành cài thêm plugin <strong>hexo-deployer-git</strong> : </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-git -save</span><br></pre></td></tr></table></figure><p>Để deploy thì run 2 lệnh sau:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>Và kết quả là đây: <a href="https://phamtuananh1996.github.io/">https://phamtuananh1996.github.io/</a></p><p>Vậy là xong !</p><h1 id="Ket-luan"><a href="#Ket-luan" class="headerlink" title="Kết luận"></a>Kết luận</h1><p>   Chỉ chưa mất đến 5 phút là bạn đã có 1 blog hoàn chỉnh với hexo và github pages rồi. còn chần chờ gì nữa mà không khám phá hexo ngay. trên đây mình chỉ giới thiệu qua các chức năng cơn bản nhất thôi . </p><p>  Các bạn có thể tìm hiểu thêm ở <a href="https://hexo.io/" target="_blank" rel="noopener">https://hexo.io/</a></p><p>Chào ,Thân ái và quyêt thắng :heart_eyes::heart_eyes::heart_eyes::heart_eyes:</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Mo-dau&quot;&gt;&lt;a href=&quot;#Mo-dau&quot; class=&quot;headerlink&quot; title=&quot;Mở đầu&quot;&gt;&lt;/a&gt;Mở đầu&lt;/h1&gt;&lt;p&gt;Bạn nghĩ sao về việc có 1 blog các nhân cho riêng mình
      
    
    </summary>
    
    
    
      <category term="hexo" scheme="https://phamtuananh1996.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>Recommend(Laravel): Đặt tên sao cho chuẩn :))</title>
    <link href="https://phamtuananh1996.github.io/2020/05/26/recommendlaravel-dat-ten-sao-cho-chuan/"/>
    <id>https://phamtuananh1996.github.io/2020/05/26/recommendlaravel-dat-ten-sao-cho-chuan/</id>
    <published>2020-05-26T01:49:28.618Z</published>
    <updated>2020-06-01T08:26:17.081Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mo-dau"><a href="#Mo-dau" class="headerlink" title="Mở đầu"></a>Mở đầu</h1><p>Hếy yoo, xin chào các bạn , trước kia hồi mới là sinh viên chưa bỏ được code cẩu thả đã nhảy vào code laravel ngay. Kết quả là mình đặt tên lớp, tên hàm, tên biến …. rất lung tung và không theo một quy tắc nhất định nào cả. Rồi đến lúc đọc lại code thì thôi rồi. nước mắt cứ phải gọi là tuôn rơi :sweat_smile::sweat_smile::sweat_smile:  nghĩ lại vẫn thấy ngu rồi có khi định viết lại cả chức năng auth của nó ấy chứ. </p><p>Vì vậy mình lên mạng tham khảo góp nhặt  1 số best practices về quy tắc đặt tên chung của laravel. Để các bạn cùng tìm hiểu. Ai biết rồi thì có thể lướt xuống và upvote ạ ai chưa biết có thể đọc để apply vào những dự án tiếp theo. Hoặc là dự án đang làm luôn (nhưng nếu cty có cách đặt tên riêng rồi thì lên theo qui tắc của cty nhé, không lại bị đuổi việc như chơi đấy) . :joy::joy::joy::joy: </p><h1 id="Conventions-la-gi"><a href="#Conventions-la-gi" class="headerlink" title="Conventions là gì"></a>Conventions là gì</h1><p>Thì <strong>conventions</strong> là tập hợp những nguyên tắc chung khi lập trình nhằm làm cho code dễ đọc, dễ hiểu, do đó dễ quản lý, bảo trì hơn.<br>Cái này thì mỗi cty sẽ có quy định khác nhau nhưng đa phần sẽ theo các chuẩn PSR . </p><p>PSR là viết tắt của PHP Standards Recommendations , là những tiêu chuẩn khi code PHP, nó được cộng đồng PHP xây dựng và áp dụng theo.</p><p><strong>Chuẩn PSR-0 nói về autoloading</strong></p><p><strong>Chuẩn PSR-1 về basic coding</strong></p><p><strong>Chuẩn PSR-2 về style coding</strong></p><p><strong>Chuẩn PSR-3 nói về logging</strong></p><p><strong>Chuẩn PSR-4 nói về autoloading : đây là phần cải tiến của PSR-0</strong></p><p><strong>Chuẩn PSR-7 nói về HTTP message</strong></p><p>Các bạn có thể tìm hiểu thêm về các chuẩn này. trên mạng có rất nhiều bài viết về chuẩn này.</p><p>Ở khuôn khổ bài này thì sẽ có liên quan một chút ít về <strong>chuẩn PSR-2 về style coding</strong></p><p>Mà mình nói gì mà miên man vậy đang xem qua về một số <strong>best practices</strong> về quy tắc đặt tên của laravel mà. Let go nhé.</p><h1 id="Naming-Conventions"><a href="#Naming-Conventions" class="headerlink" title="Naming Conventions"></a>Naming Conventions</h1><blockquote><p>Sau đây là các quy ước đặt tên được chấp nhận và đang được sử dụng bởi cộng đồng người dùng Larave nhé! Không phải mình tự nghĩ ra đâu!</p></blockquote><h2 id="Controllers"><a href="#Controllers" class="headerlink" title="Controllers"></a>Controllers</h2><p>Laravel dựa trên mô hình MVC mà. nên controller chúng ta sẽ thấy khá nhiều trong một project laravel vậy sao để đặt tên cho controller 1 cách xinh đẹp nhất. </p><p>Ở đây thì người ta khuyến nghị: </p><ul><li>Tên controller phải bắt đầu bằng một danh từ </li><li>Danh từ đó ở dạng số ít</li><li>Theo sau đó là hậu tố “Controller”</li><li>Tên Lớp trùng với tên file luôn nhé</li></ul><p>Ví dụ: </p><p><strong>Good</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class ArticleController extends Controller</span><br><span class="line">    &#x2F;&#x2F;</span><br><span class="line">&#123;</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ArticlesController</span> <span class="keyword">extends</span> <span class="title">Controller</span>    </span></span><br><span class="line"><span class="class"></span>&#123;</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">wp_articlesController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"></span>&#123;</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Article</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class"></span>&#123;</span><br></pre></td></tr></table></figure><p><strong>Bạn nên dùng Resource Controllers trừ khi có lý do cụ thể nào đó mà không thể làm như vậy</strong></p><p>Ví dụ: </p><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DomainController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">index</span><span class="params">()</span></span>&#123;&#125; <span class="comment">// list domains</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">create</span><span class="params">()</span></span>&#123;&#125; <span class="comment">// show create form</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">store</span><span class="params">(Request $request)</span></span>&#123; &#125; <span class="comment">// handle the form POST </span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">show</span><span class="params">($id)</span></span>&#123;&#125; <span class="comment">// show a single domain</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">edit</span><span class="params">($id)</span></span>&#123;&#125; <span class="comment">// show edit page</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">update</span><span class="params">(Request $request, $id)</span></span>&#123;&#125; <span class="comment">// handle show edit page POST</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">destroy</span><span class="params">($id)</span></span>&#123;&#125; <span class="comment">// delete a domain</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DomainController</span> <span class="keyword">extends</span> <span class="title">Controller</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">list</span><span class="params">()</span></span>&#123;&#125; <span class="comment">// list domains</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">create_or_save</span><span class="params">()</span></span>&#123;&#125; <span class="comment">// show create form then handle save</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">show_edit</span><span class="params">($id)</span></span>&#123;&#125; <span class="comment">// show a single domain then show edit page</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">delete</span><span class="params">($id)</span></span>&#123;&#125; <span class="comment">// delete a domain</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Models"><a href="#Models" class="headerlink" title="Models"></a>Models</h2><p>Đối với model thì cộng đồng khuyến nghị như sau: </p><ul><li>Chứ cái đầu tiên của class là chữ hoa</li><li>Phải là danh từ dạng số ít</li></ul><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Flight</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">     <span class="comment">//</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Flights</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">flight</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br></pre></td></tr></table></figure><blockquote><p>Phương thức định nghĩa mối quan hệ (relationship methods) <strong>hasOne</strong> hoặc <strong>belongsTo</strong>  phải là danh từ số ít</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">phone</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;hasOne(<span class="string">'App\Phone'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">phones</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;hasOne(<span class="string">'App\Phone'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Các phương  thức quan hệ  khác (relationship methods) phải là dạng danh từ số nhiều</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Post</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">comments</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;hasMany(<span class="string">'App\Comment'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">comment</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;hasMany(<span class="string">'App\Comment'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Thuộc tính của model phải ở dạng snake_case</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$user-&gt;created_at</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$user-&gt;createdAt</span><br></pre></td></tr></table></figure><blockquote><p>Phương thức của model phải ở dạng camelCase</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">scopePopular</span><span class="params">($query)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> $query-&gt;where(<span class="string">'votes'</span>, <span class="string">'&gt;'</span>, <span class="number">100</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">scope_popular</span><span class="params">($query)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> $query-&gt;where(<span class="string">'votes'</span>, <span class="string">'&gt;'</span>, <span class="number">100</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="Functions"><a href="#Functions" class="headerlink" title="Functions"></a>Functions</h2><blockquote><p>Trong ưng dụng của chúng ta thì không thể thiểu các function do chúng ta tự viết ra nhằm trợ giúp một chức năng nào đó . Bạn nên tạo 1 file có tên helper.php </p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">project_folder/app/helper.php</span><br><span class="line">project_folder/app/Http/helper.php</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">project_folder/functions.php</span><br></pre></td></tr></table></figure><blockquote><p>Bạn nên sử dụng autoloading của Composer để load các function của bạn</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// file composer.json</span></span><br><span class="line">...</span><br><span class="line"><span class="string">"autoload"</span>: &#123;</span><br><span class="line">    <span class="string">"files"</span>: [</span><br><span class="line">        <span class="string">"app/helpers.php"</span></span><br><span class="line">    ],</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// file app/Http/Controllers/HomeController.php</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HomeController</span>.<span class="title">php</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">index</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">require_once</span>(app_path(<span class="string">"helpers.php"</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Trước khi viết nõ hãy kiểm tra xem đã có đã tồn tại hay chưa băng cách</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (! function_exists(<span class="string">'my_custom_helper'</span>)) &#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">my_custom_helper</span><span class="params">($key, $default = null)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">my_custom_helper</span><span class="params">($key, $default = null)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Khuyến nghị khác: </p><p>Nếu function dài quá 25 dòng thì bạn nên tách nhỏ function đó thành những funtion nhỏ hơn.</p><p>Mỗi function bạn nên viết Unit Test cho chúng để đảm bảo chúng chạy đúng</p></blockquote><h2 id="Routes"><a href="#Routes" class="headerlink" title="Routes"></a>Routes</h2><blockquote><p>Router phải ở dạng số nhiều và các chữ cái đều là chữ thường . chỗ này mình cũng không biết giải thích như nào nhưng các bạn nhìn vào ví dụ nhé:</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'/users'</span>, <span class="string">'UserController@index'</span>);</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route::resource(<span class="string">'photos'</span>, <span class="string">'PhotoController'</span>);</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'/user'</span>, <span class="string">'UserController@index'</span>);</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'/UsersList'</span>, <span class="string">'UserController@index'</span>);</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route::resource(<span class="string">'PHOTO'</span>, <span class="string">'PhotoController'</span>);</span><br></pre></td></tr></table></figure><blockquote><p>Tên của router phải ở dạng snake_case</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'/user'</span>, <span class="string">'UserController@active'</span>)-&gt;name(<span class="string">'users.show_active'</span>);</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'/user'</span>, <span class="string">'UserController@active'</span>)-&gt;name(<span class="string">'users.show-active'</span>);</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Route::get(<span class="string">'/user'</span>, <span class="string">'UserController@active'</span>)-&gt;name(<span class="string">'show-active-users'</span>);</span><br></pre></td></tr></table></figure><h2 id="Variables"><a href="#Variables" class="headerlink" title="Variables"></a>Variables</h2><p>Cái này hay gặp phải nhất này. Xem cộng đồng khuyến nghị gì về quy tắc đặt tên biến nhé !</p><blockquote><p>Quy tắc chung của biến là ở dạng <strong>camelCase</strong></p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$articlesWithAuthor</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$articles_with_author</span><br></pre></td></tr></table></figure><blockquote><p>Tên của collection nên theo quy tắc Mô tả collection + danh từ sô nhiều</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$activeUsers = User::active()-&gt;get()</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$users = User::active()-&gt;get()</span><br><span class="line">$user = User::active()-&gt;get()</span><br><span class="line">$User = User::active()-&gt;get()</span><br></pre></td></tr></table></figure><blockquote><p>Tên 1 object nên theo quy tắc Mô tả collection + danh từ sô ít</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$activeUser = User::active()-&gt;first()</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$users = User::active()-&gt;first()</span><br></pre></td></tr></table></figure><h2 id="Views"><a href="#Views" class="headerlink" title="Views"></a>Views</h2><blockquote><p>Mọi người rất hay lúng túng khi đặt tên cho view. thì tên view chúng ta nên đặt ở dạng snake_case</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show_filtered.blade.php</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">showFiltered.blade.php</span><br></pre></td></tr></table></figure><blockquote><p>Gần đây cũng có khuyến nghị nên đặt tên view dạng kebab-case. bạn cũng có thể tham khảo cách này nhé! . Mình nghĩ cách này tốt hơn cách ở trên !</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show-filtered.blade.php</span><br></pre></td></tr></table></figure><blockquote><p>Bạn không nên sử lý logic code trong file view nhé mà hãy viết trong controller. trừ trường hợp bất khả kháng. ví dụ:</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// $api_results is passed by controller</span></span><br><span class="line">&lt;ul&gt;  </span><br><span class="line">    @<span class="keyword">foreach</span>($api_results <span class="keyword">as</span> $result)</span><br><span class="line">        &lt;li&gt;&#123;&#123; $result-&gt;name &#125;&#125;&lt;/li&gt;</span><br><span class="line">    @<span class="keyword">endforeach</span></span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@php</span><br><span class="line">   $api_results = json_decode(file_get_contents(<span class="string">"https://api.example.com"</span>));</span><br><span class="line">@endphp</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">    @<span class="keyword">foreach</span>($api_results <span class="keyword">as</span> $result)</span><br><span class="line">        &lt;li&gt;&#123;&#123; $result-&gt;name &#125;&#125;&lt;/li&gt;</span><br><span class="line">    @<span class="keyword">endforeach</span></span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure><h1 id="Neu-doc-den-day-ma-thay-moi-mat-vi-Good-vs-Bad-qua-thi-clips-lai-mai-doc-tiep-nhe"><a href="#Neu-doc-den-day-ma-thay-moi-mat-vi-Good-vs-Bad-qua-thi-clips-lai-mai-doc-tiep-nhe" class="headerlink" title="Nếu đọc đến đây mà thấy mỏi mắt vì Good vs Bad quá thì clips lại mai đọc tiếp nhé !"></a>Nếu đọc đến đây mà thấy mỏi mắt vì <code>Good</code> vs <code>Bad</code> quá thì clips lại mai đọc tiếp nhé !</h1><h1 id="Database-Conventions"><a href="#Database-Conventions" class="headerlink" title="Database Conventions"></a>Database Conventions</h1><h2 id="Table-and-Fields-Naming"><a href="#Table-and-Fields-Naming" class="headerlink" title="Table and Fields Naming"></a>Table and Fields Naming</h2><blockquote><p>Tên Table phải là danh từ ở dạng số nhiều và phải dạng viết thường</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreateFlightsTable</span> <span class="keyword">extends</span> <span class="title">Migration</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">up</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Schema::create(<span class="string">'flights'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(Blueprint $table)</span> </span>&#123;</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreateFlightsTable</span> <span class="keyword">extends</span> <span class="title">Migration</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">up</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Schema::create(<span class="string">'flight'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(Blueprint $table)</span> </span>&#123;</span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreateUsersTable</span> <span class="keyword">extends</span> <span class="title">Migration</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">up</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Schema::create(<span class="string">'MyUsers'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(Blueprint $table)</span> </span>&#123;</span><br></pre></td></tr></table></figure><blockquote><p>Tên bảng pivot phải dạng số ít của 2 model và được săp sếp theo alphabetical</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">post_user</span><br><span class="line">article_user</span><br><span class="line">photo_post</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">posts_users</span><br><span class="line">user_articles</span><br><span class="line">post_photos</span><br></pre></td></tr></table></figure><blockquote><p>Tên cột phải ở dạng snake_case và không lên có tên ở model</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">username</span><br><span class="line">title</span><br><span class="line">thumb_url</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">UserName</span><br><span class="line">_title</span><br><span class="line">ThumbUrl</span><br><span class="line">post_title</span><br></pre></td></tr></table></figure><blockquote><p>Khóa ngoại phải ở dạng tên model + hậu tố _id</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user_id</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">userid</span><br><span class="line">siteid</span><br><span class="line">Memberid</span><br><span class="line">TransactionID</span><br></pre></td></tr></table></figure><blockquote><p>Khóa chính phải là id. cái này hơi kỳ kỳ :joy::joy::joy:. dù gì đây cũng là khuyến nghị lên dùng</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ID</span><br><span class="line">pkid</span><br><span class="line">guid</span><br></pre></td></tr></table></figure><h2 id="Database-Alterations"><a href="#Database-Alterations" class="headerlink" title="Database Alterations"></a>Database Alterations</h2><blockquote><p>Tên file Migration phải theo pattern :  yyyy_mm_dd_<timestamp><em>create</em><table name>_table</p></blockquote><p><strong>Good</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2019</span>_06_06_164210_create_domains_table.php</span><br></pre></td></tr></table></figure><p><strong>Bad</strong></p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2019</span>_06_06_164210_domains.php</span><br></pre></td></tr></table></figure><h1 id="Tong-ket"><a href="#Tong-ket" class="headerlink" title="Tổng kết"></a>Tổng kết</h1><p>   Bài viết cũng khá dài rồi. mặc dù còn rất nhiều recommend khác nhưng trên đây là nhưng cái các bạn hay dùng và hay gaejp nhất trong project của mình. hy vọng các bạn có thể tham khảo qua. và hãy comment xuống dưới recommend của bạn nhé </p><p>  Thân ái và quyết thắng  :heart_eyes::heart_eyes::heart_eyes::heart_eyes::heart_eyes:</p><p>  Tham khảo:  <a href="https://www.laravelbestpractices.com/" target="_blank" rel="noopener">https://www.laravelbestpractices.com/</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Mo-dau&quot;&gt;&lt;a href=&quot;#Mo-dau&quot; class=&quot;headerlink&quot; title=&quot;Mở đầu&quot;&gt;&lt;/a&gt;Mở đầu&lt;/h1&gt;&lt;p&gt;Hếy yoo, xin chào các bạn , trước kia hồi mới là sinh 
      
    
    </summary>
    
    
    
      <category term="laravel" scheme="https://phamtuananh1996.github.io/tags/laravel/"/>
    
  </entry>
  
  <entry>
    <title>Map, Filter, Reduce ... JavaScript</title>
    <link href="https://phamtuananh1996.github.io/2020/05/19/refactor-loai-bo-for-khoi-ung-dung-javascript-cua-ban/"/>
    <id>https://phamtuananh1996.github.io/2020/05/19/refactor-loai-bo-for-khoi-ung-dung-javascript-cua-ban/</id>
    <published>2020-05-19T16:28:27.000Z</published>
    <updated>2020-06-01T08:24:20.046Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mo-dau"><a href="#Mo-dau" class="headerlink" title="Mở đầu"></a>Mở đầu</h1><p>Bài viết này mình nhắm tới những người mới bắt đầu với Javascript hoặc những người mới bắt đầu làm việc với Javascript . Nhằm giúp refactor lại code nếu bạn gặp 1 số trường hợp dưới đây. Và thông qua đó giúp các bạn hiêu hơn về higher-order functions như map, reduce, and filter …..</p><h1 id="Tai-sao-lai-su-dung-map-filter-reduce-…"><a href="#Tai-sao-lai-su-dung-map-filter-reduce-…" class="headerlink" title="Tại sao lại sử dụng map, filter, reduce …."></a>Tại sao lại sử dụng map, filter, reduce ….</h1><ul><li>Nhìn code sẽ dễ đọc hơn rất nhiều</li><li>Dễ hiểu hơn</li><li>Dễ dàng debug </li><li>Tránh thay đổi mảng ban đầu, do đó, giảm thiểu những rủi ro có thể xảy ra .</li><li>Không cần quản lí vòng lặp</li><li>Hãy nhớ rằng nó luôn được trả về trong callback<h1 id="1-Lap-qua-tat-ca-cac-phan-tu-va-nhan-ve-1-mang-da-sua-doi"><a href="#1-Lap-qua-tat-ca-cac-phan-tu-va-nhan-ve-1-mang-da-sua-doi" class="headerlink" title="1, Lặp qua tất cả các phần tử và nhận về 1 mảng đã sửa đổi"></a>1, Lặp qua tất cả các phần tử và nhận về 1 mảng đã sửa đổi</h1>Đôi khi chúng ta có một mảng các object muốn sửa đổi / thêm các thuộc tính của từng đối tượng , cụ thể giả sử chúng ta có thể có một mảng các string mà ta sẽ biến tất cả chúng thành chữ thường . Trên thực tế có thể có vô số tình huống ở đó Map sẽ giúp chúng ta xử lý 1 cách dễ dàng .</li></ul><p><strong>Using for</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = [<span class="string">"Jack"</span>, <span class="string">"Jecci"</span>, <span class="string">"Ram"</span>, <span class="string">"Tom"</span>];</span><br><span class="line"><span class="keyword">var</span> upperCaseNames = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>, totalNames = names.length; i&lt; totalNames ; i= i +<span class="number">1</span>) &#123;</span><br><span class="line">    upperCaseNames[i] = names[i].toUpperCase();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Using map</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = [<span class="string">"Jack"</span>, <span class="string">"Jecci"</span>, <span class="string">"Ram"</span>, <span class="string">"Tom"</span>];</span><br><span class="line"><span class="keyword">var</span> upperCaseNames = names.map(<span class="function"><span class="params">name</span> =&gt;</span> name.toUpperCase());</span><br></pre></td></tr></table></figure><blockquote><p>Chú ý:  Nếu bạn sử dụng map .Thì bạn sẽ không dùng được <code>break</code>, <code>continue</code>, <code>return</code> trong khi lặp . nếu muốn sử dụng chúng hãy dùng <code>every</code> hoặc <code>some</code></p></blockquote><h1 id="2-Lap-qua-tat-ca-cac-phan-tu-va-thuc-hien-mot-hanh-dong"><a href="#2-Lap-qua-tat-ca-cac-phan-tu-va-thuc-hien-mot-hanh-dong" class="headerlink" title="2, Lặp qua tất cả các phần tử và thực hiện một hành động"></a>2, Lặp qua tất cả các phần tử và thực hiện một hành động</h1><p><strong>Using for</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> names = [<span class="string">"Jack"</span>, <span class="string">"Jecci"</span>, <span class="string">"Ram"</span>, <span class="string">"Tom"</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>, totalNames = names.length; i&lt; totalNames ; i= i +<span class="number">1</span>) &#123;</span><br><span class="line">    print(names[i])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Using forEach</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = [<span class="string">"Jack"</span>, <span class="string">"Jecci"</span>, <span class="string">"Ram"</span>, <span class="string">"Tom"</span>];</span><br><span class="line">names.forEach(<span class="function"><span class="params">name</span>=&gt;</span> print(name));</span><br></pre></td></tr></table></figure><h1 id="3-Loc-cac-phan-tu-cua-mang"><a href="#3-Loc-cac-phan-tu-cua-mang" class="headerlink" title="3, Lọc các phần tử của mảng"></a>3, Lọc các phần tử của mảng</h1><p>Tôi tin rằng trong quá trình bạn code bạn đã gặp tình huống phải lọc 1 số item ra khỏi mảng ban đầu .</p><p>Ví dụ: bài toán lọc các phần tử chăn trong mảng dưới đây</p><p>để làm được điều đó chúng ta phải xử lí khá rắc rối , nhưng với filter thì bạn có thể sử dụng nó 1 cách dễ dàng.</p><p><strong>Using for</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isOdd</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> n %<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> odd = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>, total = numbers.length; i&lt; total ; i= i +<span class="number">1</span>) &#123;</span><br><span class="line">   <span class="keyword">let</span> number = numbers[i];</span><br><span class="line">   <span class="keyword">if</span>( isOdd(number) ) &#123;</span><br><span class="line">      odd.push(number);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Using filter</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line"><span class="keyword">var</span> odd = numbers.filter(<span class="function"><span class="params">n</span> =&gt;</span> n%<span class="number">2</span>); <span class="comment">// single line</span></span><br></pre></td></tr></table></figure><p>Bạn thấy đấy ngắn hơn raart nhiều phải không .</p><h1 id="4-Tinh-toan-cac-gia-tri-thanh-mot-gia-tri-duy-nhat"><a href="#4-Tinh-toan-cac-gia-tri-thanh-mot-gia-tri-duy-nhat" class="headerlink" title="4, Tính toán các giá trị thành một giá trị duy nhất"></a>4, Tính toán các giá trị thành một giá trị duy nhất</h1><p>Ví dụ, với một dãy số bạn có thể dễ dàng tính được tổng của tất cả các giá trị.</p><p><strong>Using for</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"><span class="keyword">var</span> result = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>, total = numbers.length; i&lt; total ; i= i +<span class="number">1</span>) &#123;</span><br><span class="line">   result = result + numbers[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Using reduce</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> numbers = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">accumulator, currentValue</span>)</span>&#123;</span><br><span class="line">   <span class="keyword">return</span> accumulator + currentValue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> initialVal = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> result = numbers.reduce(sum, initialVal);</span><br></pre></td></tr></table></figure><h1 id="5-Kiem-tra-xem-mot-mang-co-chua-gia-tri-nao-do-khong"><a href="#5-Kiem-tra-xem-mot-mang-co-chua-gia-tri-nao-do-khong" class="headerlink" title="5, Kiểm tra xem một mảng có chứa giá trị nào đó không"></a>5, Kiểm tra xem một mảng có chứa giá trị nào đó không</h1><p>Đôi khi bạn muốn kiểm tra 1 phần tử nào đó có tồn tại trong 1 array cho trước hay không. hãy nghĩ đến <code>some</code></p><p><strong>Using for</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = [<span class="string">"ram"</span>, <span class="string">"raj"</span>, <span class="string">"rahul"</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>, totalNames = names.length; i&lt; totalNames ; i= i +<span class="number">1</span>) &#123;</span><br><span class="line">   <span class="keyword">if</span>(names[i] === <span class="string">"rahul"</span>) &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(<span class="string">"%c found rahul"</span>, <span class="string">"color:red"</span>);</span><br><span class="line">     <span class="keyword">return</span>; </span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Using some</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> names = [<span class="string">"ram"</span>, <span class="string">"raj"</span>, <span class="string">"rahul"</span>];</span><br><span class="line"><span class="keyword">let</span> isRahulPresent = names.some(<span class="function"><span class="params">name</span> =&gt;</span> name===<span class="string">"rahul"</span>);</span><br><span class="line"><span class="keyword">if</span>(isRahulPresent) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"%c found rahul"</span>, <span class="string">"color:red"</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="6-kiem-tra-xem-moi-phan-tu-trong-mot-mang-co-dap-ung-dieu-kien-khong"><a href="#6-kiem-tra-xem-moi-phan-tu-trong-mot-mang-co-dap-ung-dieu-kien-khong" class="headerlink" title="6, kiểm tra xem mọi phần tử trong một mảng có đáp ứng điều kiện không"></a>6, kiểm tra xem mọi phần tử trong một mảng có đáp ứng điều kiện không</h1><p><strong>Using for</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>, <span class="number">0</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>, total = numbers.length; i&lt; total ; i= i +<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>(num &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"0 present in array"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Using some</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>, <span class="number">0</span>];</span><br><span class="line"><span class="keyword">var</span> isZeroFree = num.every(<span class="function"><span class="params">e</span> =&gt;</span> e &gt; <span class="number">0</span>);</span><br><span class="line"><span class="keyword">if</span>(!isZeroFree) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"0 present in array"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Ket-luan"><a href="#Ket-luan" class="headerlink" title="Kết luận"></a>Kết luận</h1><p>Hy vọng qua bài viết này các bạn có thể tham khảo để refactor ứng dụng của mình  1 cách thông mình hơn. giúp cho code dễ đọc dễ hiểu và dễ maintain, debug hơn. :heart_eyes::heart_eyes::heart_eyes::heart_eyes::heart_eyes:</p><blockquote><p>Thanks for reading. I hope you upvote this.</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Mo-dau&quot;&gt;&lt;a href=&quot;#Mo-dau&quot; class=&quot;headerlink&quot; title=&quot;Mở đầu&quot;&gt;&lt;/a&gt;Mở đầu&lt;/h1&gt;&lt;p&gt;Bài viết này mình nhắm tới những người mới bắt đầu với
      
    
    </summary>
    
    
    
      <category term="javascript" scheme="https://phamtuananh1996.github.io/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>Những chrome extension mà developer nên tham khảo</title>
    <link href="https://phamtuananh1996.github.io/2020/05/01/nhung-chrome-extension-ma-developer-nen-tham-khao/"/>
    <id>https://phamtuananh1996.github.io/2020/05/01/nhung-chrome-extension-ma-developer-nen-tham-khao/</id>
    <published>2020-05-01T16:38:11.000Z</published>
    <updated>2020-05-27T05:52:24.034Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mo-dau"><a href="#Mo-dau" class="headerlink" title="Mở đầu"></a>Mở đầu</h1><p>Chào các viblo fan. Hôm này mình sẽ chia sẻ 10 extension  mà mình hiện tại đang dùng các bạn có thể tham khảo nhé. hy vọng giúp ích được cho các dev nhà mình. Nếu bạn có  extension hay và hữu ích thì đừng ngại ngần hãy comment ngay xuống dưới post này nhé. hoặc bạn hoàn toàn có thể viết tiếp phần 2 nhé ! Lét sờ tát :heart_eyes::heart_eyes::heart_eyes::heart_eyes::heart_eyes:</p><h1 id="1-Vue-js-devtools"><a href="#1-Vue-js-devtools" class="headerlink" title="1, Vue.js devtools"></a>1, Vue.js devtools</h1><p>Nếu bạn là một dev yêu thích và đang làm việc với vuejs thì các bạn đừng bỏ qua  extension này nhé. Và được chính <a href="https://vuejs.org/" target="_blank" rel="noopener">https://vuejs.org/</a> cung cấp nhé. bạn hoàn toàn có thể yên tâm và sử dụng.</p><p><img src="https://images.viblo.asia/b251c07a-2eda-4b2e-8e11-fe558bb6a8e7.jpg" alt=""></p><p><a href="https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd" target="_blank" rel="noopener">Vue.js devtools</a> giúp bạn debugging  ứng dụng vuejs của bạn một cách trực quan dễ hiểu </p><p>Cho phép quản lý Component, vuex, events. routing  …..</p><h1 id="2-React-Developer-Tools"><a href="#2-React-Developer-Tools" class="headerlink" title="2, React Developer Tools"></a>2, React Developer Tools</h1><p>Còn nếu bạn cũng yêu thích cả reactjs thì cũng có riêng 1 extension cho reactjs. Các bạn có thể tải về  <a href="https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi" target="_blank" rel="noopener">tại đây</a> và do Facebook cung cấp vì thế các bạn cũng yên tâm sử dụng nhé.</p><p><img src="https://images.viblo.asia/04b459af-1f01-45ab-84f4-62255044ff78.jpg" alt=""></p><p>Giống như  Vue.js devtools thì React Developer Tools giúp bạn debugging  ứng dụng reactjs</p><h1 id="3-Todoist-for-Chrome"><a href="#3-Todoist-for-Chrome" class="headerlink" title="3, Todoist for Chrome"></a>3, Todoist for Chrome</h1><p>Đây là extension mình rất yêu thích vì nó giúp mình quản lý các task cần làm trong ngày mà không phải mở quá nhiều các ứng dụng quản lý khác. ngoài ra còn có thể lập lịch theo ngày nữa rất hưu ích phải không nào!</p><p><img src="https://images.viblo.asia/8c1f3a72-2c57-46de-a6c9-d33a16cd5d01.jpg" alt=""></p><p>Các bạn có thể thêm tiện ích tuyệt vời này vào trình duyệt  <a href="https://chrome.google.com/webstore/detail/todoist-for-chrome/jldhpllghnbhlbpcmnajkpdmadaolakh" target="_blank" rel="noopener">tại đây</a></p><h1 id="4-Json-viewer"><a href="#4-Json-viewer" class="headerlink" title="4, Json-viewer"></a>4, Json-viewer</h1><p>Json là 1 dạng dữ liệu quá quen thuộc với developer rồi nhỉ. Nhưng thật khó chịu khi mà mở trình duyệt lên <a href="https://viblo.asia/api/posts/newest?limit=20" target="_blank" rel="noopener">https://viblo.asia/api/posts/newest?limit=20</a> mà trình duyệt lại trả về 1 đoạn json như này: </p><p><img src="https://images.viblo.asia/255e0263-b8ea-4120-b151-5d169c4d45e8.png" alt=""></p><p>Thì Json-viewer là 1 lựa chọn hoàn hảo để format đoạn json kia để dễ nhìn hơn như này: </p><p><img src="https://images.viblo.asia/9f9fe349-c06b-417e-aa86-9090291cb3ff.png" alt=""></p><p>Nhìn đẹp hơn đúng không nào còn chần chờ gì nữa mà không thêm ngay cho trình duyệt của mình.</p><h1 id="5-Medium-unlimited"><a href="#5-Medium-unlimited" class="headerlink" title="5, Medium-unlimited"></a>5, Medium-unlimited</h1><p>Mình hay lên đọc medium. Nhưng thỉnh thoảng thấy bài đang đọc hay thì Medium bắt nạp tiên để đọc bài hay gì gì ấy mà mình không đọc được nữa. Thì mình phát hiện ra tiện ích này </p><p><img src="https://images.viblo.asia/caa2fc4b-d45c-4bda-9154-5697324c763a.png" alt=""></p><p>Medium-unlimited có thể mở khóa bài viết trên Medium ấy . các bạn có thể tải về <a href="https://github.com/manojVivek/medium-unlimited" target="_blank" rel="noopener">Tại đây</a></p><h1 id="6-Viblo’s-News-Feed"><a href="#6-Viblo’s-News-Feed" class="headerlink" title="6, Viblo’s News Feed"></a>6, Viblo’s News Feed</h1><p>Là fan viblo mà chưa có extension này thì người ta cười cho ấy nhỉ. Các bạn thêm vào ngay đi nhé <a href="https://chrome.google.com/webstore/detail/viblos-news-feed/mliahmjgdpkkicelofhbhgiidgljijmj" target="_blank" rel="noopener">tại đây nè</a></p><p><img src="https://images.viblo.asia/1936b189-c387-47c1-84d2-d4b771c90e79.jpg" alt=""></p><p>Extension giúp mình có được các bài viết mới nhất trên viblo cũng như không bỏ qua bất cứ thông báo nào của viblo. Rất hữu ích cho 5 sao.</p><h1 id="7-Grammarly-for-Chrome"><a href="#7-Grammarly-for-Chrome" class="headerlink" title="7, Grammarly for Chrome"></a>7, Grammarly for Chrome</h1><p>Đây là 1 extension có mất phí và miễn phí giúp chúng ta sửa lỗi ngữ phát tiếng anh rất tiện và hữu ích cho tất cả mọi người không riêng gì dev đâu nhé. Thêm ngay <a href="https://chrome.google.com/webstore/detail/grammarly-for-chrome/kbfnbcaeplbcioakkpcpgfkobkghlhen" target="_blank" rel="noopener">tại đây</a></p><p><img src="https://images.viblo.asia/5f5d8080-a40a-47d2-bb6c-1aa4b024d612.jpg" alt=""></p><h1 id="8-Lorem-Ipsum"><a href="#8-Lorem-Ipsum" class="headerlink" title="8, Lorem Ipsum"></a>8, Lorem Ipsum</h1><p>Cái này thì đặc biệt hữu ích khi các bạn muốn test trường input mà “bầu bí” không biết ghi gì vào ô input thì  extension là 1 lựa chọn cho bạn đấy!</p><p><img src="https://images.viblo.asia/1aab7aef-ef49-4b7e-81c8-6b8b98a58200.jpg" alt=""></p><p>Chỉ cần vài thao tác là bạn đã có 1 đoạn văn bản đẹp để làm dữ liệu test rồi .</p><h1 id="9-Google-Dich"><a href="#9-Google-Dich" class="headerlink" title="9, Google Dịch"></a>9, Google Dịch</h1><p>Ôi. cái tên nói lên tất cả rồi nhỉ<br><img src="https://images.viblo.asia/d30571db-3cb3-4494-b283-07f8376e8252.jpg" alt=""></p><p>Mình nghĩ các bạn đều có cả rồi nhỉ .nếu chưa có thì thêm ngay  <a href="https://chrome.google.com/webstore/detail/google-translate/aapbdbdomjkkjkaonfhkkikfgjllcleb" target="_blank" rel="noopener">tại đây nhé </a></p><h1 id="10-Octotree"><a href="#10-Octotree" class="headerlink" title="10, Octotree"></a>10, Octotree</h1><p>Nào các dân dev nhìn ảnh này là biết extension này là gì luôn nhé !<br><img src="https://www.octotree.io/_nuxt/img/1c8e9ec.gif" alt=""></p><p>Nếu thấy hay và hưu ích thì tải ngay tại đây nhé <a href="https://www.octotree.io/" target="_blank" rel="noopener">https://www.octotree.io/</a></p><h1 id="Ket-luan"><a href="#Ket-luan" class="headerlink" title="Kết luận"></a>Kết luận</h1><p>Như mình đang PR cho các extension  trên ấy các bác nhỉ. nhưng tin mình đi có những extension trên cũng đỡ vất vả được phần vào với công việc hiện tại của dev đấy. nếu có extension hay ho các bạn nhớ comment ở post này để mọi người tham khảo nhé.<br>Nếu thấy hữu ích thì ngại gì mà không ấn <code>thương thương</code> nhỉ.  :heart_eyes::heart_eyes::heart_eyes::heart_eyes:</p><p>Thân ái và quyết thắng !!!!</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Mo-dau&quot;&gt;&lt;a href=&quot;#Mo-dau&quot; class=&quot;headerlink&quot; title=&quot;Mở đầu&quot;&gt;&lt;/a&gt;Mở đầu&lt;/h1&gt;&lt;p&gt;Chào các viblo fan. Hôm này mình sẽ chia sẻ 10 extensi
      
    
    </summary>
    
    
    
      <category term="extension" scheme="https://phamtuananh1996.github.io/tags/extension/"/>
    
  </entry>
  
  <entry>
    <title>Các trick search google mà developer nên biết</title>
    <link href="https://phamtuananh1996.github.io/2020/04/15/cac-trick-search-google-ma-developer-nen-biet/"/>
    <id>https://phamtuananh1996.github.io/2020/04/15/cac-trick-search-google-ma-developer-nen-biet/</id>
    <published>2020-04-15T16:01:59.000Z</published>
    <updated>2020-05-27T05:53:00.198Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mo-dau"><a href="#Mo-dau" class="headerlink" title="Mở đầu"></a>Mở đầu</h1><p>Đối với dân IT, kỹ năng tìm kiếm trên Google sẽ là “trợ thủ đắc lực” giúp bạn học tập và làm việc hiệu quả nhất. Bạn chỉ cần tập trung đọc hiểu, ghi nhớ, phân tích cốt lõi của một vấn đề, mọi thông tin còn lại đã có Google lo. Vậy làm sao để tìm kiếm trên Google và research paper hiệu quả nhất? Bài viết này sẽ giới thiệu 1 số mẹo thường dùng với google search đối với dev nhé.</p><h2 id="1-Use-an-Exact-Phrase"><a href="#1-Use-an-Exact-Phrase" class="headerlink" title="1. Use an Exact Phrase"></a>1. Use an Exact Phrase</h2><p>   <strong>Mô tả</strong>: Đây là cách tìm cụm từ chính xác bằng dấu ngoặc kép</p><p>   <strong>Syntax</strong>: “[keyword 1] [keyword 2]” [keyword 3]</p><p>   <strong>Ví dụ</strong>: Khi bạn tìm kiếm với từ khóa thuật toán sắp xếp nổi bọt và ngôn ngữ dùng là golang và bạn chỉ muốn kết quả trả về có chứa ngôn ngữ golang. bạn hãy thử:<br>   <img src="https://images.viblo.asia/355de483-54a4-472c-ab0d-734626bc7ef3.png" alt=""></p><h2 id="2-Google-Search-Exclude-Word"><a href="#2-Google-Search-Exclude-Word" class="headerlink" title="2. Google Search Exclude Word"></a>2. Google Search Exclude Word</h2><p>   <strong>Mô tả</strong>:  Để có thể loại bỏ những từ tìm kiếm không quan trọng trong kết quả, bạn chỉ cần nhập dấu - đằng trước từ khóa mà bạn cần loại bỏ là được.</p><p>   <strong>Syntax</strong>: - [keyword to exclude] [keyword to include]</p><p>   <strong>Ví dụ</strong>:  Vẫn là ví dụ kia nhưng lần này bạn không muốn kết quả trả về liên quan đến golang bạn hãy thử:<br>   <img src="https://images.viblo.asia/8538b1ee-888b-45c8-a157-69e3874f4d81.png" alt=""></p><p>   Và cũng hưu ích khi  bạn muốn kết quả tìm kiếm không trả về các trang quảng cáo bằng cách dùng <strong>- quảng cáo</strong></p><h2 id="3-Google-Search-Within-a-Website"><a href="#3-Google-Search-Within-a-Website" class="headerlink" title="3. Google Search Within a Website"></a>3. Google Search Within a Website</h2><p>   <strong>Mô tả</strong>:  Tìm kiếm một từ trong trang web - sử dụng cú pháp trang web: URL trang web, theo sau là cụm từ tìm kiếm của bạn.  sẽ hạn chế kết quả tìm kiếm và chỉ tìm kiếm trong trang web đó trang web đó.</p><p>   <strong>Syntax</strong>:  site:[website URL] [keywords]</p><p>   <strong>Ví dụ</strong>:  Bạn muốn tìm kiếm nội dung chỉ trong trang viblo thì bạn thử<br>     <img src="https://images.viblo.asia/998c9e94-4977-4e0d-86bd-607e7b3e3432.png" alt=""></p><h2 id="4-Google-Search-Definitions"><a href="#4-Google-Search-Definitions" class="headerlink" title="4.  Google Search Definitions"></a>4.  Google Search Definitions</h2><p>   <strong>Mô tả</strong>:  Dễ dàng tìm thấy định nghĩa của một từ mà không cần phải đi đến một trang web từ điển bằng cách sử dụng cú pháp sau:</p><p>   <strong>Syntax</strong>:  define:[keyword]</p><p>   <strong>Ví dụ</strong>: Bạn muốn định nghĩa thuật toán nổi bọt là gì hãy thử: </p><p>   <img src="https://images.viblo.asia/9a7ec342-3ce4-42ed-8677-8b0beee17193.png" alt=""></p><h2 id="5-Google-Search-Wildcard-Missing-or-Unknown-Words"><a href="#5-Google-Search-Wildcard-Missing-or-Unknown-Words" class="headerlink" title="5.  Google Search Wildcard (Missing or Unknown Words)"></a>5.  Google Search Wildcard (Missing or Unknown Words)</h2><p>   <strong>Mô tả</strong>:  Tìm kiếm kiểu này sẽ giúp bạn tự động điền 1 số từ bạn không nhớ dõ. nó sẽ có tắc dụng trong tìm kiếm lời bài hát hoặc là tiêu đề 1 cuốn sách nào đó mà bạn chỉ nhớ mang máng. </p><p>   <strong>Syntax</strong>:  [keywords 1] * [keywords 2]</p><p>   <strong>Ví dụ</strong>: Bạn bạn vừa đi xem 1 bộ phim rất hay được chuyển thể từ truyện . mà bạn không nhớ dõ nó có tiêu đề là gì mà chỉ nhớ có từ mắt gì đó. không biết là “mắt liếc” hay “mắt lác” thì bạn hãy thử:<br>   <img src="https://images.viblo.asia/55ec8be3-ae14-4abe-aaf0-e22af32edfbd.png" alt=""></p><h2 id="6-Google-Search-File-Type"><a href="#6-Google-Search-File-Type" class="headerlink" title="6.  Google Search File Type"></a>6.  Google Search File Type</h2><p>   <strong>Mô tả</strong>:  Cái này sẽ giúp bạn tìm kiếm theo kiểu file ví dụ như .sql, .docx, .csv … </p><p>   <strong>Syntax</strong>:  [keywords] filetype:[file type extension]</p><p>   <strong>Ví dụ</strong>:  Bạn muốn tìm 1 file mà định dạng là .sql về quận huyện của việt nam chẳng hạn bạn hãy thử:<br>       <img src="https://images.viblo.asia/4eb54929-e6ea-495b-a2ce-0490d4990201.png" alt=""></p><h2 id="7-Google-Images-Search"><a href="#7-Google-Images-Search" class="headerlink" title="7.  Google Images Search"></a>7.  Google Images Search</h2><p>   <strong>Mô tả</strong>:  Giúp bạn tìm kiếm nhanh tên hình ảnh, mô tả và type.</p><p>   <strong>Syntax</strong>:  [keyword] image type</p><p>   <strong>Ví dụ</strong>: Bạn chỉ muốn tìm kiếm anh gif bạn hãy thử :<br>       <img src="https://images.viblo.asia/9cfa5fc7-0de2-4b8a-abdc-4aa0ab68db92.png" alt=""></p><h2 id="Loi-ket"><a href="#Loi-ket" class="headerlink" title="Lời kết"></a>Lời kết</h2><p>Trên đây là 1 số mẹo nhỏ nó có thể không giúp ích được nhiều với các vấn đề phổ biến nhưng lại rất hữu ích trong các vấn đề ít người gặp phải mà không may bạn lại mắc phải vấn đề đó. vì vậy hãy note lại nhé !</p><blockquote><p>Và nếu có thể thì bạn nên search vấn đề của bạn bằng tiếng anh nhé!</p></blockquote><p>Hẹn gặp các bạn trong các bài viết lần sau. thân ái và quyết thắng !!!</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Mo-dau&quot;&gt;&lt;a href=&quot;#Mo-dau&quot; class=&quot;headerlink&quot; title=&quot;Mở đầu&quot;&gt;&lt;/a&gt;Mở đầu&lt;/h1&gt;&lt;p&gt;Đối với dân IT, kỹ năng tìm kiếm trên Google sẽ là “tr
      
    
    </summary>
    
    
    
      <category term="trick" scheme="https://phamtuananh1996.github.io/tags/trick/"/>
    
  </entry>
  
  <entry>
    <title>Giao tiếp giữa các cửa sổ với Window.postMessage API</title>
    <link href="https://phamtuananh1996.github.io/2020/03/15/giao-tiep-giua-cac-cua-so-voi-windowpostmessage-api/"/>
    <id>https://phamtuananh1996.github.io/2020/03/15/giao-tiep-giua-cac-cua-so-voi-windowpostmessage-api/</id>
    <published>2020-03-15T13:22:08.000Z</published>
    <updated>2020-05-27T05:52:05.613Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mo-dau"><a href="#Mo-dau" class="headerlink" title="Mở đầu"></a>Mở đầu</h1><p>Bạn đã bao giờ có nhu cầu giao tiếp giữa các cửa sổ hoặc cửa sổ hiện tại và iframe bên trong chưa. như truyền data từ cửa sổ này đến cửa sổ kia và ngược lại. Vậy làm cách nào để làm được điều đó? thì window.postMessage api chính là giải pháp của bạn? chúng ta cùng tìm hiểu trong bài viết này nhé!!</p><h1 id="Cu-phap"><a href="#Cu-phap" class="headerlink" title="Cú pháp"></a>Cú pháp</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">targetWindow.postMessage(message, targetOrigin, [transfer]);</span><br></pre></td></tr></table></figure><p>Với các tham số được mô tả bằng bảng dưới đây: </p><table><thead><tr><th>Tên</th><th>Mô tả</th></tr></thead><tbody><tr><td>targetWindow</td><td>Reference tới một windows hoặc iframe nào đó mà bạn muốn gửi message, giá trị này được trả về khi gọi hàm window.open hoặc tên, id của frame trong biến window.frames</td></tr><tr><td>message</td><td>Dữ liệu cần gửi đến <strong>targetOrigin</strong>, có thể là string hoặc objec …..</td></tr><tr><td>targetOrigin</td><td>Là trang sẽ nhận được message này. Hoặc có thể là “*”  thì message này sẽ được gửi đến mọi window target đến nó (<strong>Không khuyến khích dùng</strong>)</td></tr></tbody></table><h1 id="Gui-Message"><a href="#Gui-Message" class="headerlink" title="Gửi Message"></a>Gửi Message</h1><p>Để dõ hơn mình sẽ tạo ra 2 cửa sổ window như này:<br><img src="https://images.viblo.asia/7832ff1e-8bda-494b-bb9e-76f3d036e511.png" alt=""></p><blockquote><p>Window 1 (<a href="http://localhost:8002/window-1" target="_blank" rel="noopener">http://localhost:8002/window-1</a>)</p><p>Window 2 (<a href="http://localhost:8002/window-2" target="_blank" rel="noopener">http://localhost:8002/window-2</a>)</p></blockquote><p>Tiếp theo mình sẽ viết code js cho window 1 để gửi message cho window 2: </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>This is window 1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">"sendHello()"</span>&gt;</span>Send hello to window 2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="function"><span class="keyword">function</span> <span class="title">sendHello</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> popup = <span class="built_in">window</span>.open(<span class="string">"http://localhost:8002/window-2"</span>, <span class="string">'window-2'</span>);</span></span><br><span class="line"><span class="actionscript">        popup.postMessage(<span class="string">"Hello, window-2! i am window-1"</span>, <span class="string">"http://localhost:8002/window-2"</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Nhan-Message"><a href="#Nhan-Message" class="headerlink" title="Nhận Message"></a>Nhận Message</h1><p>Tiếp theo viết code nhận message từ window-1 cho window-2</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>This is window 2<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.addEventListener(<span class="string">"message"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">        <span class="keyword">if</span> (event.origin !== <span class="string">"http://localhost:8001/window-1"</span>)</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">return</span>;</span></span><br><span class="line">            </span><br><span class="line">        alert(event.data)</span><br><span class="line">    &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Các thuộc tính nhận được sẽ bao gồm: </p><table><thead><tr><th>Tên</th><th>Mô tả</th></tr></thead><tbody><tr><td>data</td><td>Đối tượng được truyền đến</td></tr><tr><td>origin</td><td>Nguồn gốc của data truyền đến. bạn phải kiểm tra trường này để tranh trường hợp người khác giả mạo sender cũng như xử lý những message không liên quan tới mình</td></tr><tr><td>source</td><td>reference đến đối tượng cửa sổ đã gửi tin nhắn; bạn có thể sử dụng điều này để thiết lập giao tiếp hai chiều giữa hai cửa sổ với nguồn gốc khác nhau.</td></tr></tbody></table><p>Thành quả sẽ như thế này : </p><p><img src="https://images.viblo.asia/94d25356-e36b-4a5c-9f5e-9d4d330f62f7.gif" alt=""></p><h1 id="Van-de-ve-bao-mat"><a href="#Van-de-ve-bao-mat" class="headerlink" title="Vấn đề về bảo mật"></a>Vấn đề về bảo mật</h1><blockquote><p>Nếu trang web của bạn không muốn nhận message từ các trang khác gửi tới thì tuyệt đối không lắng nghe event <strong>message</strong>  dưới đây:</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"message"</span>, receiveMessage, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure><blockquote><p>Nếu bạn bắt buộc phải nhận message từ những trang khác thì luôn luôn xác minh danh tính của trang gửi đến bằng cách sử dụng <strong>origin</strong></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (event.origin !== <span class="string">"http://localhost:8001/window-1"</span>)</span><br><span class="line">            <span class="keyword">return</span>;</span><br></pre></td></tr></table></figure><blockquote><p><strong>Bất kỳ window nào cũng có thể gửi tin nhắn đến các window khác, và  bạn không phải biết tin nhắn đó có độc hại hay không vì vậy không chỉ xác minh danh tính của window gửi đến mà bạn còn phải luôn xác minh cú pháp của tin nhắn nhận được</strong></p></blockquote><blockquote><p>Luôn chỉ định chính xác <strong>targetOrigin</strong>.và không dùng <strong>“*”</strong> khi bạn sử dụng <strong>postMessage</strong> để gửi data đến window khác.</p></blockquote><h1 id="Tong-ket"><a href="#Tong-ket" class="headerlink" title="Tổng kết"></a>Tổng kết</h1><p>Hy vọng qua bài này bạn có thể sự dụng window.postMessage để giao tiếp giữa các window 1 cách an toàn và hiệu quả nhất. :100::100::100::100::100::100::astonished:</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Mo-dau&quot;&gt;&lt;a href=&quot;#Mo-dau&quot; class=&quot;headerlink&quot; title=&quot;Mở đầu&quot;&gt;&lt;/a&gt;Mở đầu&lt;/h1&gt;&lt;p&gt;Bạn đã bao giờ có nhu cầu giao tiếp giữa các cửa sổ ho
      
    
    </summary>
    
    
    
      <category term="javascript" scheme="https://phamtuananh1996.github.io/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>Tạo mechanism webhook cho riêng mình với laravel notification.</title>
    <link href="https://phamtuananh1996.github.io/2019/12/15/tao-mechanism-webhook-cho-rieng-minh-voi-laravel-notification/"/>
    <id>https://phamtuananh1996.github.io/2019/12/15/tao-mechanism-webhook-cho-rieng-minh-voi-laravel-notification/</id>
    <published>2019-12-15T08:51:17.000Z</published>
    <updated>2020-05-27T05:58:04.225Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Mo-dau"><a href="#Mo-dau" class="headerlink" title="Mở đầu"></a>Mở đầu</h1><p>Hôm nay mình sẽ hướng dẫn cho các bạn cách tạo một webhook mechanism cho riêng mình. từ lâu chúng ta đã biểt đến và dùng chức năng webhook của github, facebook … .Đại loại là họ sẽ cho mình nhập 1 Payload URL và chọn sự kiện để khi có sự kiện đó thì github cũng send http request đến  Payload URL của người dùng.<br><img src="https://images.viblo.asia/1c1ffc57-7a82-4cfe-9e57-38ddbff49a33.png" alt=""></p><p> Tương tự vậy, ở demo nay chúng ta sẽ cho phép người dùng nhập webhook url của họ. và khi có 1 sự kiện nào đó trên hệ thống chúng ta thì hệ thống cũng tiến hành send http request đến url của họ (request gồm body và header).</p><h1 id="Webhook-la-gi"><a href="#Webhook-la-gi" class="headerlink" title="Webhook là gì?"></a>Webhook là gì?</h1><h1 id="Cai-dat-Dependencies"><a href="#Cai-dat-Dependencies" class="headerlink" title="Cài đặt Dependencies"></a>Cài đặt Dependencies</h1><p>Đầu tiên chúng ta cần cài đặt package để cho việc gửi HTTP request. Ở đây mình dùng thư viện khá phổ biến là Guzzle:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require guzzlehttp&#x2F;guzzle:~6.0</span><br></pre></td></tr></table></figure><h1 id="Migrate-du-lieu"><a href="#Migrate-du-lieu" class="headerlink" title="Migrate dữ liệu"></a>Migrate dữ liệu</h1><p>Tiếp theo chúng ta tạo bảng user. ở ví dụ demo này thì mình sẽ lưu <code>name</code>, <code>email</code>, <code>password</code>, <code>api_token</code> và đặc biệt có thêm trường <code>webhook_url</code> đây chính là enpoint của người dùng khi đăng ký Webhook End Point trên hệ thống của chúng ta.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Schema</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Schema</span>\<span class="title">Blueprint</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Migrations</span>\<span class="title">Migration</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreateUsersTable</span> <span class="keyword">extends</span> <span class="title">Migration</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Run the migrations.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">up</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Schema::create(<span class="string">'users'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(Blueprint $table)</span> </span>&#123;</span><br><span class="line">            $table-&gt;increments(<span class="string">'id'</span>);</span><br><span class="line">            $table-&gt;string(<span class="string">'name'</span>);</span><br><span class="line">            $table-&gt;string(<span class="string">'email'</span>)-&gt;unique();</span><br><span class="line">            $table-&gt;string(<span class="string">'password'</span>);</span><br><span class="line">            $table-&gt;string(<span class="string">'api_key'</span>);</span><br><span class="line">            $table-&gt;string(<span class="string">'webhook_url'</span>)-&gt;nullable();</span><br><span class="line">            $table-&gt;rememberToken();</span><br><span class="line">            $table-&gt;timestamps();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Reverse the migrations.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">down</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Schema::dropIfExists(<span class="string">'users'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Tao-model"><a href="#Tao-model" class="headerlink" title="Tạo model"></a>Tạo model</h1><p>Tiếp theo là tạo model User</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">App</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Notifications</span>\<span class="title">Notifiable</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Auth</span>\<span class="title">User</span> <span class="title">as</span> <span class="title">Authenticatable</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">extends</span> <span class="title">Authenticatable</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">Notifiable</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The attributes that are mass assignable.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> $fillable = [</span><br><span class="line">        <span class="string">'name'</span>, <span class="string">'email'</span>, <span class="string">'password'</span>, <span class="string">'api_key'</span>, <span class="string">'webhook_url'</span>,</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * The attributes that should be hidden for arrays.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">protected</span> $hidden = [</span><br><span class="line">        <span class="string">'password'</span>, <span class="string">'remember_token'</span>, <span class="string">'api_key'</span>,</span><br><span class="line">    ];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getSigningKey</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;api_key;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getWebhookUrl</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;webhook_url;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Model này khá dễ hiểu rồi. mình có thêm 2 hàm <code>getSigningKey</code> và <code>getWebhookUrl</code> để lấy <code>api_key</code> và <code>webhook_url</code></p><h1 id="Tao-notification-channels"><a href="#Tao-notification-channels" class="headerlink" title="Tạo notification channels"></a>Tạo notification channels</h1><p>Tiếp theo chúng ta cần tạo 1 notification channel. Thì laravel có hỗ trợ chúng ta tạo cũng như custom notification channels ở <a href="https://laravel.com/docs/5.6/notifications#custom-channels" target="_blank" rel="noopener">Tại đây</a>.</p><p>Tiến hành tạo WebhookChannel</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">App</span>\<span class="title">Channels</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">GuzzleHttp</span>\<span class="title">Client</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Log</span>\<span class="title">Logger</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Notifications</span>\<span class="title">Notifiable</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Notifications</span>\<span class="title">Notification</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WebhookChannel</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> Client</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> $client;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> Logger</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> $logger;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">(Client $client, Logger $logger)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;client = $client;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;logger = $logger;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> Notifiable $notifiable</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> Notification $notification</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> WebHookFailedException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">send</span><span class="params">($notifiable, Notification $notification)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Function send là nơi chúng ta viết code để thực hiện việc send http request đến endpoint (webhook_url) của người dùng. </p><p>Tiếp theo mình tiến hành viết hàm send</p><p>Đầu tiên ,</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> Notifiable $notifiable</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> Notification $notification</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> WebHookFailedException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">send</span><span class="params">($notifiable, Notification $notification)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (method_exists($notification, <span class="string">'toWebhook'</span>)) &#123;</span><br><span class="line">            $body = (<span class="keyword">array</span>) $notification-&gt;toWebhook($notifiable);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $body = $notification-&gt;toArray($notifiable);</span><br><span class="line">        &#125;</span><br><span class="line">        $timestamp = now()-&gt;timestamp;</span><br><span class="line">        $token = str_random(<span class="number">16</span>);</span><br><span class="line">        <span class="comment">// Tạo header cho request webhook . cái này để người dùng có thể xác minh request gửi lên là từ hệ thống của chúng ta mà không phải từ hệ thông khác</span></span><br><span class="line">        $headers = [</span><br><span class="line">            <span class="string">'timestamp'</span> =&gt; $timestamp,</span><br><span class="line">            <span class="string">'token'</span> =&gt; $token,</span><br><span class="line">            <span class="string">'signature'</span> =&gt; hash_hmac(</span><br><span class="line">                <span class="string">'sha256'</span>,</span><br><span class="line">                $token . $timestamp,</span><br><span class="line">                $notifiable-&gt;getSigningKey()</span><br><span class="line">            ),</span><br><span class="line">        ];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Tiếp theo chúng ta tạo 1 request sử dụng GuzzleHttp để gửi request</span></span><br><span class="line">        $request = <span class="keyword">new</span> Request(<span class="string">'POST'</span>, $notifiable-&gt;getWebhookUrl(), $headers, json_encode($body));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            $response = <span class="keyword">$this</span>-&gt;client-&gt;send($request);</span><br><span class="line">            <span class="comment">// kiểm tra nếu không nhận được status code = 200 thì sẽ báo lỗi</span></span><br><span class="line">            <span class="keyword">if</span> ($response-&gt;getStatusCode() !== <span class="number">200</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> WebHookFailedException(<span class="string">'Webhook received a non 200 response'</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// Lưu lại log</span></span><br><span class="line">            <span class="keyword">$this</span>-&gt;logger-&gt;debug(<span class="string">'Webhook successfully posted to '</span>. $notifiable-&gt;getWebhookUrl());</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClientException $exception) &#123;</span><br><span class="line">            <span class="keyword">if</span> ($exception-&gt;getResponse()-&gt;getStatusCode() !== <span class="number">410</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> WebHookFailedException($exception-&gt;getMessage(), $exception-&gt;getCode(), $exception);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (GuzzleException $exception) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> WebHookFailedException($exception-&gt;getMessage(), $exception-&gt;getCode(), $exception);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">$this</span>-&gt;logger-&gt;error(<span class="string">'Webhook failed in posting to '</span>. $notifiable-&gt;getWebhookUrl());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>Vậy là xong 1 notification channels. Tiếp theo mình chỉ việc gọi Webhook notification và dùng thôi.</p><h1 id="Thuc-hien-notification-webhook"><a href="#Thuc-hien-notification-webhook" class="headerlink" title="Thực hiện notification webhook"></a>Thực hiện notification webhook</h1><p>Tiếp theo chúng ta tạo notification bằng lệnh </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:notification SomethingHappenedNotification</span><br></pre></td></tr></table></figure><p>Tiến hành viết code.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">App</span>\<span class="title">Notifications</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Channels</span>\<span class="title">WebhookChannel</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Bus</span>\<span class="title">Queueable</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Notifications</span>\<span class="title">Notification</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Contracts</span>\<span class="title">Queue</span>\<span class="title">ShouldQueue</span>;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SomethingHappenedNotification</span> <span class="keyword">extends</span> <span class="title">Notification</span> <span class="keyword">implements</span> <span class="title">ShouldQueue</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">use</span> <span class="title">Queueable</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@var</span> string</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> $message;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Create a new notification instance.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> string $message</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">($message)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="keyword">$this</span>-&gt;message = $message;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Get the notification's delivery channels.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  mixed  $notifiable</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">via</span><span class="params">($notifiable)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [WebhookChannel::class];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toWebhook</span><span class="params">($notifiable)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">            <span class="string">'message'</span> =&gt; <span class="keyword">$this</span>-&gt;message,</span><br><span class="line">        ];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Get the array representation of the notification.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span>  mixed  $notifiable</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> array</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">toArray</span><span class="params">($notifiable)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> [];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ok. vậy là đã xong . giờ chúng ta có thể tạo các sự kiện và send notification đến endpoint mà người dùng đã đăng ký.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Notifications</span>\<span class="title">SomethingHappenedNotification</span>;</span><br><span class="line"></span><br><span class="line">$user-&gt;notify(<span class="keyword">new</span> SomethingHappenedNotification($massage));</span><br></pre></td></tr></table></figure><h1 id="Ket-luan"><a href="#Ket-luan" class="headerlink" title="Kết luận"></a>Kết luận</h1><p>Cảm ơn các bạn đã đọc đến đây. </p><p>Tham khảo : <a href="https://laravel.com/docs/5.6/notifications#custom-channels" target="_blank" rel="noopener">https://laravel.com/docs/5.6/notifications#custom-channels</a>, </p><p>Source code: <a href="https://github.com/phamtuananh1996/laravel-webhook-demo" target="_blank" rel="noopener">https://github.com/phamtuananh1996/laravel-webhook-demo</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Mo-dau&quot;&gt;&lt;a href=&quot;#Mo-dau&quot; class=&quot;headerlink&quot; title=&quot;Mở đầu&quot;&gt;&lt;/a&gt;Mở đầu&lt;/h1&gt;&lt;p&gt;Hôm nay mình sẽ hướng dẫn cho các bạn cách tạo một web
      
    
    </summary>
    
    
    
      <category term="laravel" scheme="https://phamtuananh1996.github.io/tags/laravel/"/>
    
  </entry>
  
  <entry>
    <title>Chống sao chép hình ảnh bất hợp pháp với watermark image</title>
    <link href="https://phamtuananh1996.github.io/2019/11/11/chong-sao-chep-hinh-anh-bat-hop-phap-voi-watermark-image/"/>
    <id>https://phamtuananh1996.github.io/2019/11/11/chong-sao-chep-hinh-anh-bat-hop-phap-voi-watermark-image/</id>
    <published>2019-11-11T07:31:21.000Z</published>
    <updated>2020-05-27T05:56:06.424Z</updated>
    
    <content type="html"><![CDATA[<h1 id="watermark-image-la-gi"><a href="#watermark-image-la-gi" class="headerlink" title="watermark image là gì?"></a>watermark image là gì?</h1><p>Gần đây mình thấy trên viblo có mội số bài viết khá hay và chất lượng. Nhưng điều đáng buồn là các trang web về công nghệ khác đã copy các bài viết này mà không xin phép tác giả hay có thì cũng chỉ là ghi link tới bài viết rất nhỏ ở cuối bài.<br>Cũng chính vì lý do đó mà các tác giả của viblo gần đây đã gắn thêm watermark vào hình ảnh của mình. </p><p>Như chính bài này sau 1 thời gian thì cũng đã bị copy <a href="https://topdev.vn/blog/chong-sao-chep-hinh-anh-bat-hop-phap-voi-watermark-image/" target="_blank" rel="noopener">https://topdev.vn/blog/chong-sao-chep-hinh-anh-bat-hop-phap-voi-watermark-image/</a> tại trang này. :joy::joy::joy::joy::joy: </p><p>dưới đây là 1 ví dụ về watermark:<br><img src="https://images.viblo.asia/a8d172b1-d2b7-449e-93bd-b65afe49527d.jpg" alt=""></p><p>bạn có thể thấy ở góc bottom-right có ảnh cái mẹt của mình. và như để khẳng định nguồn hình ảnh bài viết này là của mình. :rofl::rofl::rofl::rofl::rofl::rofl::rofl::rofl::rofl::rofl::rofl:</p><p>vậy watermark là gì ?</p><h2 id="Khai-niem-Watermark-la-gi"><a href="#Khai-niem-Watermark-la-gi" class="headerlink" title="Khái niệm Watermark là gì?"></a>Khái niệm Watermark là gì?</h2><p>  Watermark được hiểu là một dấu hiệu nhận biết như text, Image, logo hay slogan của riêng bạn hoặc công ty bạn được in hoặc làm chìm, làm mờ phía đăng sau bức ảnh. Mục đích của việc làm này chính là đánh dấu hoặc đặt ra dấu hiệu nhận biết đó là sản phẩm của bạn làm ra. Khi người khác lấy ảnh hoặc tài liệu của bạn để sử dụng cho website của họ. Mặc định người ta biết rằng đó là ảnh của bạn làm ra.<br>  <img src="https://images.viblo.asia/f8d2f803-3713-4a01-a8d0-a2c1f27de809.jpg" alt=""></p><h2 id="Y-nghia-cua-viec-su-dung-Watermark-la-gi"><a href="#Y-nghia-cua-viec-su-dung-Watermark-la-gi" class="headerlink" title="Ý nghĩa của việc sử dụng Watermark là gì?"></a>Ý nghĩa của việc sử dụng Watermark là gì?</h2><ul><li><p><strong>Chống sao chép bất hợp pháp hoặc chưa có sự đồng ý của chủ nhân tác phẩm.</strong></p><p>Đặc biệt trong bán hàng online trên mạng, hay thậm chí  việc sử dụng lại hình ảnh của nhau là điều thường xảy ra. Khi đối thủ cạnh tranh của bạn sử dụng lại hình ảnh của bạn một cách trái phép để làm công cụ riêng của họ thì việc gắn Watermark cho tác phẩm của mình là điều cần thiết. Bạn có thể sử dụng logo chìm, hotline hoặc tên của bạn làm mờ phía sau ảnh. Điều này đảm bảo cho bạn dễ dàng bảo vệ được tác phẩm của mình.</p></li><li><p><strong>Hỗ trợ quảng bá và tăng độ phủ của thương hiệu</strong></p><p>Việc sử dụng Watermark là một trong nhiều yếu tố được các thương hiệu nổi tiếng sử dụng để quảng bá thương hiệu của bạn dễ dàng. Ngoài việc bảo vệ bản quyền tác phẩm, bạn còn có thể sử dụng Watermark làm một trong các công cụ để giới thiệu công ty. Nếu ảnh của bạn chất lượng, sẽ có rất nhiều người lấy ảnh của bạn để chia sẻ và đăng tải.</p><p> Điều này không hề có hại mà ngược lại sẽ giúp doanh nghiệp của bạn được quảng bá dễ dàng hơn rất nhiều. Đây chính là điểm mạnh của Watermark giúp bạn phát triển được tiềm năng thương hiệu.</p></li><li><p><strong>Tạo ra điểm nhấn của tác phẩm</strong></p><p>Sự chăm chút trong tác phẩm của bạn từ chi tiết tới Watermark cũng có thể giúp bạn gây ấn tượng với người xem. Ngoài việc đóng dấu bản quyền, chúng còn đem lại một điểm nhấn sáng tạo cho bức hình của chính bạn hoặc của công ty.</p></li></ul><h1 id="Demo-watermark-image-voi-intervention"><a href="#Demo-watermark-image-voi-intervention" class="headerlink" title="Demo watermark image với intervention"></a>Demo watermark image với intervention</h1><p>   Lý thuyết vậy đủ rồi giờ thực hành thôi</p><h2 id="Cai-dat-thu-vien"><a href="#Cai-dat-thu-vien" class="headerlink" title="Cài đặt thư viện"></a>Cài đặt thư viện</h2><blockquote><p>Yêu cầu môi trường:</p><ul><li><p>PHP &gt;= 5.4</p></li><li><p>Fileinfo Extension</p></li><li><p>GD Library (&gt;=2.0)</p></li><li><p>Imagick PHP extension (&gt;=6.5.7)</p></li></ul></blockquote><p>Đầu tiên chạy lệnh này để tiến hành clone thư viện về project:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">composer require intervention&#x2F;image</span><br></pre></td></tr></table></figure><p>Trong file <em>config/app.php</em> thêm <code>providers</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Intervention\Image\ImageServiceProvider::class</span><br></pre></td></tr></table></figure><p>và thêm <code>aliases</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#39;Image&#39; &#x3D;&gt; Intervention\Image\Facades\Image::class</span><br></pre></td></tr></table></figure><p>Vậy là xong phần cài đặt tiếp theo bắt tay vào code chức năng watermark image.</p><h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><p>Nếu bạn truy cập vào document của thư viện <a href="http://image.intervention.io/getting_started/introduction" target="_blank" rel="noopener">tại đây</a> thì đã có hẳn một ví dụ về việc watermark này:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// open an image file</span></span><br><span class="line">$img = Image::make(<span class="string">'public/foo.jpg'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// now you are able to resize the instance</span></span><br><span class="line">$img-&gt;resize(<span class="number">320</span>, <span class="number">240</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// and insert a watermark for example</span></span><br><span class="line">$img-&gt;insert(<span class="string">'public/watermark.png'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// finally we save the image as a new file</span></span><br><span class="line">$img-&gt;save(<span class="string">'public/bar.jpg'</span>);</span><br></pre></td></tr></table></figure><p>Dựa vào ví dụ của doc thì mình cần 2 ảnh 1 là ảnh cần watermark và 1 ảnh watermark.</p><p>Mình sẽ dùng 2 ảnh này cho nó cute!</p><ol><li><p>Ảnh gốc (ảnh mình muốn gắn watermark) có tên <code>foo.jpg</code><br><img src="https://images.viblo.asia/349cd9d4-abe7-49c3-bd33-1fa9ed3f5e0e.jpg" alt=""></p></li><li><p>Ảnh watermark ( dùng luôn cái mặt mình ) có tên <code>watermark.png</code></p><p> <img src="https://images.viblo.asia/avatar/3a85fdbd-c6e9-49ad-80b9-7b637af70860.JPG" alt=""></p></li></ol><p>2 ảnh này mình để trong fodel public của project</p><p>Tiến hành code thôi. mình sửa lại đoạn code ví dụ của doc 1 chút : </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Mở ảnh gốc</span></span><br><span class="line">$img = Image::make(<span class="string">'public/foo.jpg'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Mở ảnh watermark</span></span><br><span class="line">$watermark = Image::make(<span class="string">'public/watermark.jpg'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//làm mờ ảnh watermark</span></span><br><span class="line">$watermark = $watermark-&gt;opacity(<span class="number">50</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// resize ảnh watermark (= 1/10 ảnh gốc)</span></span><br><span class="line">$resizePercentage = <span class="number">10</span>/<span class="number">100</span>;</span><br><span class="line">$watermarkSize = round($image-&gt;width() * $resizePercentage, <span class="number">2</span>);</span><br><span class="line">$watermark-&gt;resize($watermarkSize, <span class="keyword">null</span>, <span class="function"><span class="keyword">function</span> <span class="params">($constraint)</span> </span>&#123;</span><br><span class="line">    $constraint-&gt;aspectRatio();</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//set position : vị trí của ảnh watermark ở đây mình để  góc dười bên phải</span></span><br><span class="line">$position = <span class="string">'bottom-right'</span>; </span><br><span class="line"><span class="comment">// có thể chọn các vị trí:</span></span><br><span class="line"><span class="comment">// top-left (default)</span></span><br><span class="line"><span class="comment">// top</span></span><br><span class="line"><span class="comment">// top-right</span></span><br><span class="line"><span class="comment">// left</span></span><br><span class="line"><span class="comment">// center</span></span><br><span class="line"><span class="comment">// right</span></span><br><span class="line"><span class="comment">// bottom-left</span></span><br><span class="line"><span class="comment">// bottom</span></span><br><span class="line"><span class="comment">// bottom-right</span></span><br><span class="line"><span class="comment">// Tiến hành watermark </span></span><br><span class="line">$img-&gt;insert($watermark, $position);</span><br><span class="line"></span><br><span class="line"><span class="comment">// finally we save the image as a new file</span></span><br><span class="line">$img-&gt;save(<span class="string">'public/bar.jpg'</span>);</span><br></pre></td></tr></table></figure><p>vậy là done! </p><p><img src="https://images.viblo.asia/a8d172b1-d2b7-449e-93bd-b65afe49527d.jpg" alt=""></p><h1 id="Ket-luan"><a href="#Ket-luan" class="headerlink" title="Kết luận"></a>Kết luận</h1><p>Qua bài viết này mình mong các bạn có thêm 1 sự lựa chọn cho website của mình về việc bản quyền.  Chúc các bạn thành công :heart_eyes::heart_eyes::heart_eyes::heart_eyes::heart_eyes:</p><p>Tài liệu tham khảo:<br>    <a href="https://haviweb.com.vn/watermark-la-gi/" target="_blank" rel="noopener">https://haviweb.com.vn/watermark-la-gi/</a></p><p>   <a href="http://image.intervention.io" target="_blank" rel="noopener">http://image.intervention.io</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;watermark-image-la-gi&quot;&gt;&lt;a href=&quot;#watermark-image-la-gi&quot; class=&quot;headerlink&quot; title=&quot;watermark image là gì?&quot;&gt;&lt;/a&gt;watermark image là gì?
      
    
    </summary>
    
    
    
      <category term="laravel" scheme="https://phamtuananh1996.github.io/tags/laravel/"/>
    
  </entry>
  
  <entry>
    <title>Biến ảnh sprites thành ảnh động với vuejs</title>
    <link href="https://phamtuananh1996.github.io/2019/09/15/bien-anh-sprites-thanh-anh-dong-voi-vuejs/"/>
    <id>https://phamtuananh1996.github.io/2019/09/15/bien-anh-sprites-thanh-anh-dong-voi-vuejs/</id>
    <published>2019-09-15T04:28:12.000Z</published>
    <updated>2020-05-27T06:04:54.600Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Anh-sprites-la-gi"><a href="#Anh-sprites-la-gi" class="headerlink" title="Ảnh sprites là gì?"></a>Ảnh sprites là gì?</h1><p>Sprites là một hình ảnh lớn được tạo ra bằng cách gộp nhiều ảnh nhỏ lại với nhau theo một cách được định trước sao cho có thể tái sử dụng lại từng ảnh nhỏ mà không bị ảnh hưởng bởi các ảnh khác. </p><p>Kiểu như thế này : </p><p><img src="https://images.viblo.asia/a28b8126-1298-4ca7-a507-53865b32238d.png" alt=""></p><p>Hoặc các sticker của fb:</p><p><img src="https://scontent.fhan2-4.fna.fbcdn.net/v/t39.1997-6/p235x165/67539452_1159079340882542_8277748228300996608_n.png?_nc_cat=110&_nc_eui2=AeH2-OIUf83EPlhM5IGEZi74aLkSeDNWcKSrvRdsOkqEdn3BNjMAWULBFwWtEiXn2yNSrbycS4k812lEytZ8Cs1KgJWfxxNuQanFl3Rebv049Q&_nc_oc=AQnPO6loogCDtjBqtK6O4Jh5Fa_pXVGnqJ4JXcFkziKXFGDDnsEyRYuP15shcqg1TjQ&_nc_ht=scontent.fhan2-4.fna&oh=c43b6be170ac16f2e449bc149d1a2099&oe=5DFECA0E" alt=""></p><p><img src="https://scontent.fhan2-4.fna.fbcdn.net/v/t39.1997-6/s851x315/67530709_1159072887549854_2673552395128012800_n.png?_nc_cat=110&_nc_eui2=AeEylH9tKEBvrL0-otkHUeAQkmsPgTx2No0kxgYubflSqwvBbxD5OJjEeAVxNM3gVQOySKyaQWiSruhLdbMcVjmHS3RRhVYTaDE8zCvzLWQ8gQ&_nc_oc=AQnrfyZgqePF4bC4Fq_DjZUjfPoFyKMRd0FwqvYrQEsMxtXcZBAA1BnnYF9OkZlceRM&_nc_ht=scontent.fhan2-4.fna&oh=53889069282914a6029d4927539cf96d&oe=5E104D7F" alt=""></p><h1 id="Muc-tieu-cua-bai-viet"><a href="#Muc-tieu-cua-bai-viet" class="headerlink" title="Mục tiêu của bài viết"></a>Mục tiêu của bài viết</h1><ul><li><p>Qua bài viết này mình muốn chuyển các ảnh sprites đứng yên kia thành anh động bằng cách viết 1 <strong>component vuejs</strong>. </p></li><li><p>Các bạn cũng có thể tham khảo cách khác bằng <strong>canvas</strong> của HTML5 qua bài viết này : <a href="https://viblo.asia/p/cach-tao-anh-giong-gif-bang-javascript-khong-phai-ai-cung-biet-YWOZr6xrZQ0" target="_blank" rel="noopener">https://viblo.asia/p/cach-tao-anh-giong-gif-bang-javascript-khong-phai-ai-cung-biet-YWOZr6xrZQ0</a></p></li></ul><h1 id="Uu-diem-so-voi-viec-dung-anh-gif"><a href="#Uu-diem-so-voi-viec-dung-anh-gif" class="headerlink" title="Ưu điểm so với việc dùng ảnh gif"></a>Ưu điểm so với việc dùng ảnh gif</h1><ol><li>Tôi ưu hơn performance web vì thay vì load ảnh gif thì thay vào đó là anh png.</li><li>Có thể tương tác với ảnh (vd: có thể cho ảnh dừng lại hoặc tiếp tục chuyển động, hoặc chuyển động vs số lần nhất định rồi ngừng).</li><li>Tùy chỉnh chuyển động nhanh chậm của ảnh.<h1 id="Xay-dung-component-vuejs"><a href="#Xay-dung-component-vuejs" class="headerlink" title="Xây dựng component vuejs"></a>Xây dựng component vuejs</h1><h2 id="Huong-giai-quyet"><a href="#Huong-giai-quyet" class="headerlink" title="Hướng giải quyết"></a>Hướng giải quyết</h2>Đơn giản chỉ là dùng js để thay đổi <code>background-position</code> qua từng phần của bước ảnh và lặp lại khi đến ảnh cuối vậy là mình đã có 1 ảnh tương tự gif.</li></ol><h2 id="Viet-component"><a href="#Viet-component" class="headerlink" title="Viết component"></a>Viết component</h2><p>Khởi tạo các props và style cho component: </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div :style=<span class="string">"style"</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> &#123; clearInterval &#125; <span class="keyword">from</span> <span class="string">'timers'</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    image: <span class="built_in">String</span>, <span class="comment">// Url image</span></span><br><span class="line">    height: <span class="built_in">Number</span>, <span class="comment">// chiều cao của component</span></span><br><span class="line">    width: <span class="built_in">Number</span>, <span class="comment">// chiều rộng của component</span></span><br><span class="line">    loop: <span class="built_in">Number</span>, <span class="comment">// số lần lặp của ảnh</span></span><br><span class="line">    frame: <span class="built_in">Number</span>, <span class="comment">// số hình chạy qua trên 1 giây</span></span><br><span class="line">    max: <span class="built_in">Number</span>, <span class="comment">// số hình của ảnh</span></span><br><span class="line">    column: <span class="built_in">Number</span>, <span class="comment">// số cột</span></span><br><span class="line">    row: <span class="built_in">Number</span>, <span class="comment">// số dòng</span></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  data()&#123;</span><br><span class="line">  <span class="comment">// khởi tạo style ban đầu</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      style: &#123;</span><br><span class="line">        width: <span class="keyword">this</span>.width + <span class="string">'px'</span>,</span><br><span class="line">        height: <span class="keyword">this</span>.height + <span class="string">'px'</span>,</span><br><span class="line">        background: <span class="string">`url(<span class="subst">$&#123;<span class="keyword">this</span>.image&#125;</span>)`</span>,</span><br><span class="line">        backgroundSize: <span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.width * <span class="keyword">this</span>.column&#125;</span>px <span class="subst">$&#123;<span class="keyword">this</span>.height * <span class="keyword">this</span>.row&#125;</span>px`</span>,</span><br><span class="line">        backgroundPosition: <span class="string">'0px 0px'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><p>Tiếp theo chúng ta viết function để ảnh có thể chuyển động.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">methods: &#123;</span><br><span class="line">   play() &#123;</span><br><span class="line">     <span class="keyword">let</span> i = <span class="number">0</span></span><br><span class="line">     <span class="keyword">let</span> position = &#123;</span><br><span class="line">       x: <span class="number">0</span>,</span><br><span class="line">       y: <span class="number">0</span>,</span><br><span class="line">       loop: <span class="number">0</span>,</span><br><span class="line">     &#125; <span class="comment">// khởi tạo vị trí ban đầu</span></span><br><span class="line">     <span class="keyword">const</span> playTimer = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">       i++;</span><br><span class="line">       <span class="keyword">if</span>(i % <span class="keyword">this</span>.column) &#123;</span><br><span class="line">         position.x -= <span class="keyword">this</span>.width; </span><br><span class="line">       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">         position.y -= <span class="keyword">this</span>.height; </span><br><span class="line">         position.x = <span class="number">0</span>;</span><br><span class="line">       &#125;</span><br><span class="line"></span><br><span class="line">       <span class="keyword">if</span> (i == <span class="keyword">this</span>.max) &#123;</span><br><span class="line">         i = <span class="number">0</span></span><br><span class="line">         position.y = <span class="number">0</span>; </span><br><span class="line">         position.x = <span class="number">0</span>;</span><br><span class="line">         position.loop++;</span><br><span class="line">         <span class="keyword">if</span>(position.loop &gt;= <span class="keyword">this</span>.loop) &#123;</span><br><span class="line">           clearInterval(playTimer)</span><br><span class="line">         &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       </span><br><span class="line">       <span class="keyword">this</span>.$<span class="keyword">set</span>(this.style, 'backgroundPosition', `$&#123;position.x&#125;px $&#123;position.y&#125;px<span class="string">`) // set lại style</span></span><br><span class="line"><span class="string">     &#125;, 1000/this.frame);</span></span><br><span class="line"><span class="string">   &#125;</span></span><br><span class="line"><span class="string"> &#125;</span></span><br></pre></td></tr></table></figure><p>Gọi hàm play() </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">    <span class="keyword">this</span>.play()</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><p>Vậy là chúng ta đã viết xong component để ảnh chuyện động. full code :</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div :style=<span class="string">"style"</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'HelloWorld'</span>,</span><br><span class="line">  props: &#123;</span><br><span class="line">    image: <span class="built_in">String</span>,</span><br><span class="line">    height: <span class="built_in">Number</span>,</span><br><span class="line">    width: <span class="built_in">Number</span>,</span><br><span class="line">    loop: <span class="built_in">Number</span>,</span><br><span class="line">    frame: <span class="built_in">Number</span>,</span><br><span class="line">    max: <span class="built_in">Number</span>,</span><br><span class="line">    column: <span class="built_in">Number</span>,</span><br><span class="line">    row: <span class="built_in">Number</span>,</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  mounted() &#123;</span><br><span class="line">    <span class="keyword">this</span>.play()</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  data()&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      style: &#123;</span><br><span class="line">        width: <span class="keyword">this</span>.width + <span class="string">'px'</span>,</span><br><span class="line">        height: <span class="keyword">this</span>.height + <span class="string">'px'</span>,</span><br><span class="line">        background: <span class="string">`url(<span class="subst">$&#123;<span class="keyword">this</span>.image&#125;</span>)`</span>,</span><br><span class="line">        backgroundSize: <span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.width * <span class="keyword">this</span>.column&#125;</span>px <span class="subst">$&#123;<span class="keyword">this</span>.height * <span class="keyword">this</span>.row&#125;</span>px`</span>,</span><br><span class="line">        backgroundPosition: <span class="string">'0px 0px'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">  methods: &#123;</span><br><span class="line">    play() &#123;</span><br><span class="line">      <span class="keyword">let</span> i = <span class="number">0</span></span><br><span class="line">      <span class="keyword">let</span> position = &#123;</span><br><span class="line">        x: <span class="number">0</span>,</span><br><span class="line">        y: <span class="number">0</span>,</span><br><span class="line">        loop: <span class="number">0</span>,</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">const</span> playTimer = setInterval(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        i++;</span><br><span class="line">        <span class="keyword">if</span>(i % <span class="keyword">this</span>.column) &#123;</span><br><span class="line">          position.x -= <span class="keyword">this</span>.width; </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          position.y -= <span class="keyword">this</span>.height; </span><br><span class="line">          position.x = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (i == <span class="keyword">this</span>.max) &#123;</span><br><span class="line">          i = <span class="number">0</span></span><br><span class="line">          position.y = <span class="number">0</span>; </span><br><span class="line">          position.x = <span class="number">0</span>;</span><br><span class="line">          position.loop++;</span><br><span class="line">          <span class="keyword">if</span>(position.loop &gt;= <span class="keyword">this</span>.loop) &#123;</span><br><span class="line">            clearInterval(playTimer)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">this</span>.$<span class="keyword">set</span>(this.style, 'backgroundPosition', `$&#123;position.x&#125;px $&#123;position.y&#125;px<span class="string">`)</span></span><br><span class="line"><span class="string">      &#125;, 1000/this.frame);</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>Việc tiếp theo là chúng ta gọi component này ra và sử dụng thôi.</p><p>Mình test thử với ảnh này nhé:<br><img src="https://images.viblo.asia/a28b8126-1298-4ca7-a507-53865b32238d.png" alt=""></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=<span class="string">"app"</span>&gt;</span><br><span class="line">    &lt;ImageGif</span><br><span class="line">      image = <span class="string">"https://images.viblo.asia/a28b8126-1298-4ca7-a507-53865b32238d.png"</span></span><br><span class="line">      :width=<span class="string">"100"</span></span><br><span class="line">      :height=<span class="string">"100"</span></span><br><span class="line">      :column=<span class="string">"7"</span></span><br><span class="line">      :row=<span class="string">"4"</span></span><br><span class="line">      :max=<span class="string">"27"</span></span><br><span class="line">      :frame=<span class="string">"20"</span></span><br><span class="line">      :loop=<span class="string">"10"</span></span><br><span class="line">    /&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> ImageGif <span class="keyword">from</span> <span class="string">'./components/image-gif.vue'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  name: <span class="string">'app'</span>,</span><br><span class="line">  components: &#123;</span><br><span class="line">    ImageGif</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>Thành quả : </p><p><img src="https://images.viblo.asia/6161d4d6-de76-4b2d-8ecf-b5034b503b11.gif" alt=""></p><p><a href="https://codesandbox.io/s/vue-template-znn3p" target="_blank" rel="noopener">https://codesandbox.io/s/vue-template-znn3p</a></p><h1 id="Ket-luan"><a href="#Ket-luan" class="headerlink" title="Kết luận"></a>Kết luận</h1><p>Các bạn cũng có thể tham khảo thêm github:<br><a href="https://github.com/tuananhp-1844/image-gif" target="_blank" rel="noopener">https://github.com/tuananhp-1844/image-gif</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Anh-sprites-la-gi&quot;&gt;&lt;a href=&quot;#Anh-sprites-la-gi&quot; class=&quot;headerlink&quot; title=&quot;Ảnh sprites là gì?&quot;&gt;&lt;/a&gt;Ảnh sprites là gì?&lt;/h1&gt;&lt;p&gt;Sprites 
      
    
    </summary>
    
    
    
      <category term="javascript" scheme="https://phamtuananh1996.github.io/tags/javascript/"/>
    
      <category term="vuejs" scheme="https://phamtuananh1996.github.io/tags/vuejs/"/>
    
  </entry>
  
  <entry>
    <title>&quot;Đóng trình duyệt, session mất&quot; hiểu thế nào cho đúng?</title>
    <link href="https://phamtuananh1996.github.io/2019/08/07/dong-trinh-duyet-session-mat-hieu-the-nao-cho-dung/"/>
    <id>https://phamtuananh1996.github.io/2019/08/07/dong-trinh-duyet-session-mat-hieu-the-nao-cho-dung/</id>
    <published>2019-08-07T08:34:39.000Z</published>
    <updated>2020-05-27T06:08:38.110Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Dat-van-de"><a href="#Dat-van-de" class="headerlink" title="Đặt vấn đề"></a>Đặt vấn đề</h1><p>Mình đã nghe rất nhiều người nói “session sẽ mất khi đóng trình duyệt”. Đặc biết là khi còn là sinh viên thì câu này là câu “thần chú” khi đi phỏng vấn. Vậy có phải khi đóng trình duyệt thật sự session sẽ mất không ? Và session còn mất trong các trường hợp nào nữa?</p><blockquote><p>Note: Bài này mình dùng ngôn ngữ php và nginx nhé</p></blockquote><h1 id="Session-la-gi"><a href="#Session-la-gi" class="headerlink" title="Session là gì?"></a>Session là gì?</h1><p>Một session hay còn gọi là một phiên làm việc. Trong khoa học máy tính, Nó đơn giản là cách giao tiếp giữa client  với server. Một session bắt đầu khi client gửi request đến sever, nó tồn tại xuyên suốt từ trang này đến trang khác trong ứng dụng và chỉ kết thúc khi hết thời gian timeout . Giá trị của session sẽ được lưu trong một tệp tin trên máy chủ.</p><p>Khái niệm session chắc không quá xa lạ nữa. Mình muốn làm dõ hơn nữa khái niệm này:</p><p><strong>*”Giá trị của session sẽ được lưu trong một tệp tin trên máy chủ”*</strong></p><p><strong>Mình muốn biết  tập tin đó lưu trữ nhưng gì và ở đâu ?</strong></p><p>Mình sẽ tạo ra 1 session và lưu 1 số giá trị vào: </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line">$_SESSION[<span class="string">"color"</span>] = <span class="string">"red"</span>;</span><br><span class="line">$_SESSION[<span class="string">"color1"</span>] = <span class="string">"yellow"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="string">"Session is created"</span>;</span><br></pre></td></tr></table></figure><p>Sau đó mở trình duyệt chrome để chạy.<br><img src="https://images.viblo.asia/9b0807c7-a680-4616-96d0-137f3719ead6.png" alt=""><br>Vậy là mình đã tạo session thành công.</p><p>Thì mặc định session sẽ được lưu <code>/var/lib/php/session</code> nhé và chúng ta có thể thay đổi nơi lưu trữ session trong file php.ini</p><p><img src="https://images.viblo.asia/5b8de0be-5526-4969-88d1-62c9260c4341.png" alt=""></p><p>Mình thấy có file <code>sess_qg2vvqet5ft791f4hgc49hcqr8</code> được tạo ra. thử mở ra xem có gì bên trong nào</p><p><img src="https://images.viblo.asia/9e884e3c-f3fb-45cf-ba17-11deda5eb356.png" alt=""></p><p>Vậy là trong file lưu tên và giá trị mà chúng ta vừa set vào còn <code>s:3</code> và <code>s:6</code> là kiểu dữ liệu và độ dài (String độ dài 3 và String độ dài 6)</p><h1 id="Cach-phan-biet-session-cua-cac-trinh-duyet-khac-nhau"><a href="#Cach-phan-biet-session-cua-cac-trinh-duyet-khac-nhau" class="headerlink" title="Cách phân biệt session của các trình duyệt khác nhau"></a>Cách phân biệt session của các trình duyệt khác nhau</h1><ul><li>Session khi sinh ra được lưu trên 1 file có tên dài dòng, khó đoán và được tạo ngẫu nhiên là session id trên máy chủ, và đồng thời gửi lại cho client 1 Session cookie (không phải session)  có nội dung (hay giá trị) đúng như session id (để có thể so khớp session nào là của client nào).</li></ul><blockquote><p>Session cookie (không phải session) khác với cookie thông thường đó là khi đóng trình duyệt thì loại cookie này sẽ mất.</p></blockquote><p>Vậy chúng ta tìm trên trình duyệt chrome xem cookie này như thế nào:<br><img src="https://images.viblo.asia/a2df5ee9-3b0a-44ed-8dbb-df1bf8d61ba1.png" alt=""></p><blockquote><p> Đối với mỗi ngôn ngữ lập trình web sẽ có tên Session cookie quy định như php là PHPSESSID, jsp là JSESSIONID, … </p></blockquote><p>Vậy PHPSESSID của trình duyệt này là <code>qg2vvqet5ft791f4hgc49hcqr8</code> và nó match đúng với file vừa được tạo ra trên server.</p><p><strong>Để làm dõ hơn thì mình mở bằng trình duyệt firefox</strong><br><img src="https://images.viblo.asia/e0c541d0-9d50-4ffd-8b92-083b5d6ae178.png" alt=""></p><p>Sau khi chạy thì mình thấy trên server có tạo thêm 1 file <code>sess_su7q6pskehc3nfqiu479p4oqvn</code></p><p><img src="https://images.viblo.asia/44dc1f7f-17bd-4a46-b04f-463b4aba8d8b.png" alt=""></p><p>Và session cookie của trình duyệt firefox cũng match đúng với file đó.</p><p>Vậy dựa vào PHPSESSID đó mà server có thể phân biệt được session nào là của trình duyệt nào.</p><h1 id="Timeout-cua-session"><a href="#Timeout-cua-session" class="headerlink" title="Timeout của session"></a>Timeout của session</h1><p>Là khoảng thời gian mà session tồn tại nếu không có request từ client đến server . mặc định là 24 phút .bạn cũng có thể thay đổi khoảng thời gian này phong file php.ini</p><h1 id="Quay-lai-van-de"><a href="#Quay-lai-van-de" class="headerlink" title="Quay lại vấn đề"></a>Quay lại vấn đề</h1><p>Dựa vào những thứ tìm được từ bên trên mình sẽ đặt giả thiết thế này cho  hình dung:</p><ul><li>Tủ (session) :file_cabinet:</li><li>Chìa khóa (Session cookie) :old_key:</li><li>Bạn (client) :speak_no_evil:</li><li>người cho thuê tủ (server) :pig:</li><li>Đồ dùng trong tủ (nội dung của session) :cookie:</li></ul><p>Qui định : </p><ul><li>Mỗi chìa khóa chỉ mở được 1 tủ, mỗi tủ có đồ dùng  bên trong. </li><li>Nếu bạn không quay lại sử dụng tủ thì tủ sẽ bị thi hồi sau 1 khoảng thời gian (do người cho thuê quyết định) kể cả bạn có chìa khóa. :joy::joy:</li><li>Nếu làm mất chìa khóa thì bạn sẽ không sử dụng được tủ.</li></ul><p><strong>Như đã biết thì đóng trình duyệt thì Session cookie sẽ mất.</strong></p><p>Trường hợp này được tưởng tượng như sau:</p><p>Người cho thuê tủ cho bạn thuê tủ và đưa cho bạn chìa khóa để sử dụng cái tủ đấy. nhưng vô tình bạn làm mất chìa khóa. Mặc dù vẫn có tủ ở đấy. Và theo quy định bạn không sử dụng tủ trong 1 khoảng thời gian thì tủ sẽ bị thu hồi.</p><p>Vậy câu <strong>“session sẽ mất khi đóng trình duyệt”</strong></p><p>Trường hợp này sẽ là:<br>Tủ sẽ bị thu hồi khi bạn mất chìa khóa. nhưng thật ra bạn mất chìa khóa thì tủ vẫn còn đó. chỉ là do không có chìa khóa bạn không thể sử dụng được tủ và do không sử dụng lên sau 1 khoảng thời gian tủ sẽ bị thu hồi.</p><h1 id="Ket-luan"><a href="#Ket-luan" class="headerlink" title="Kết luận"></a>Kết luận</h1><p>Vậy  <strong><em>đóng trình duyệt thì session bị mất</em></strong>  . Lý do là khi đóng trình duyện thì Session cookie của bạn bị xóa. và vì không có cái Session cookie nữa .lên server không biết bạn là ai còn cái session cũ của bạn thì vẫn còn ở đó. và do sau 1 khoảng thời gian được qui định session ấy không được sử dụng đến vì vậy nó đã bị kill</p><p>Qua bài viết này mình muốn làm dõ hơn vì sao đóng trình duyệt thì session bị mất. qua đó cũng hiểu dõ hơn về cớ chế hoạt động của session. </p><blockquote><p>Cảm ơn các bạn đã đọc đến đây ạ :heart_eyes::heart_eyes::heart_eyes::heart_eyes::heart_eyes::heart_eyes:</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Dat-van-de&quot;&gt;&lt;a href=&quot;#Dat-van-de&quot; class=&quot;headerlink&quot; title=&quot;Đặt vấn đề&quot;&gt;&lt;/a&gt;Đặt vấn đề&lt;/h1&gt;&lt;p&gt;Mình đã nghe rất nhiều người nói “sess
      
    
    </summary>
    
    
    
      <category term="cookie" scheme="https://phamtuananh1996.github.io/tags/cookie/"/>
    
      <category term="session" scheme="https://phamtuananh1996.github.io/tags/session/"/>
    
  </entry>
  
  <entry>
    <title>CRUD Unit Testing trong Laravel</title>
    <link href="https://phamtuananh1996.github.io/2019/07/01/crud-unit-testing-trong-laravel/"/>
    <id>https://phamtuananh1996.github.io/2019/07/01/crud-unit-testing-trong-laravel/</id>
    <published>2019-07-01T10:08:37.000Z</published>
    <updated>2020-05-27T06:12:45.247Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Gioi-thieu"><a href="#Gioi-thieu" class="headerlink" title="Giới thiệu"></a>Giới thiệu</h1><p><strong>1. UnitTest là gì?</strong></p><ul><li><p><strong>UnitTest</strong>: Kiểm thử ở mức đơn vị mã nguồn. Một đơn vị mã nguồn là thành phần nhỏ nhất trong mã nguồn mà chúng ta có thể kiểm tra như. Trong Unit Test ta sẽ kiểm thử các class, method,…Mục tiêu của unit testing là kiểm tra tính đúng đắn trong các xử lý của từng đơn vị mã nguồn.</p></li><li><p>Hiểu đơn giản đây là công việc viết code để test code chúng ta viết ra.</p></li><li><p>Để thực hiện công việc này chúng ta cần PHPUnit và trong Laravel tích hợp sẵn PHPUnit.</p></li></ul><p>Trong bài viết này mình sẽ demo 1 ví dụ về unit test</p><h1 id="Tao-model-va-migration"><a href="#Tao-model-va-migration" class="headerlink" title="Tạo model và migration"></a>Tạo model và migration</h1><p>Các bạn chạy lệnh để tạo ra model và migration <strong>Category</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:model Category -m</span><br></pre></td></tr></table></figure><p>Ở file Model App\Category.php : </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">App</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Eloquent</span>\<span class="title">Model</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Category</span> <span class="keyword">extends</span> <span class="title">Model</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $fillable = [</span><br><span class="line">        <span class="string">'name'</span>,</span><br><span class="line">        <span class="string">'description'</span>,</span><br><span class="line">    ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Viết migrate tạo table categories:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Support</span>\<span class="title">Facades</span>\<span class="title">Schema</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Schema</span>\<span class="title">Blueprint</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Database</span>\<span class="title">Migrations</span>\<span class="title">Migration</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CreateCategoriesTable</span> <span class="keyword">extends</span> <span class="title">Migration</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Run the migrations.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">up</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Schema::create(<span class="string">'categories'</span>, <span class="function"><span class="keyword">function</span> <span class="params">(Blueprint $table)</span> </span>&#123;</span><br><span class="line">            $table-&gt;bigIncrements(<span class="string">'id'</span>);</span><br><span class="line">            $table-&gt;string(<span class="string">'name'</span>);</span><br><span class="line">            $table-&gt;string(<span class="string">'description'</span>)-&gt;nullable();</span><br><span class="line">            $table-&gt;timestamps();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Reverse the migrations.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">down</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Schema::dropIfExists(<span class="string">'categories'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Vậy là tạo xong model và migration chạy lệnh</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan migrate</span><br></pre></td></tr></table></figure><p>để thực thi file migration vừa tạo.</p><p>Tiếp theo , tạo các chức năng CRUD cho Category , ở đây mình dùng repository nhé!</p><h1 id="Tao-cac-crud-function-trong-repository"><a href="#Tao-cac-crud-function-trong-repository" class="headerlink" title="Tạo các crud function trong repository"></a>Tạo các crud function trong repository</h1><p>Ở đây mình tập trung nhiều vào phần test lên mình tạo file repository đơn giản. </p><p>Các bạn tạo file App\Repositories\CategoryRepository.php và tạo các function CRUD như sau: </p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">App</span>\<span class="title">Repositories</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Category</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CategoryRepository</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $model;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;model = <span class="keyword">$this</span>-&gt;model = app()-&gt;make(Category::class);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Tạo category</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">storeCategory</span><span class="params">($data)</span> : <span class="title">Category</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $category = <span class="keyword">$this</span>-&gt;model-&gt;create($data);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> $category;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update category</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">updateCategory</span><span class="params">($data, $category)</span> : <span class="title">bool</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> $category-&gt;update($data);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Show category</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">showCategory</span><span class="params">($category_id)</span> : <span class="title">Category</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;model-&gt;findOrFail($category_id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Destroy category</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">destroyCategory</span><span class="params">($category)</span> : <span class="title">bool</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">$this</span>-&gt;model-&gt;delete();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Vậy là đã xong các chức năng thêm sửa xóa rồi. bắt đầu viết test thôi !!! :100::100:</p><h1 id="Tien-hanh-tao-CRUD-Unit-Testing"><a href="#Tien-hanh-tao-CRUD-Unit-Testing" class="headerlink" title="Tiến hành tạo CRUD Unit Testing"></a>Tiến hành tạo CRUD Unit Testing</h1><p>Để tạo 1 test, ta sử dụng câu lệnh:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; Tạo 1 test trong thư mục Feature</span><br><span class="line">    php artisan make:test CategoryTest</span><br><span class="line">&#x2F;&#x2F; Tạo 1 test trong thư mục Unit</span><br><span class="line">    php artisan make:test CategoryTest --unit</span><br></pre></td></tr></table></figure><blockquote><p>Lưu ý: Nội dung bên trong thư mục Feature hay Unit có cấu trúc giống thư mục app/ ví dụ app/Repositories/CategoryRepository.php thì trong thư mục Unit là test/Unit/Repositories/CategoryRepository.php cho dễ quản lý nhé</p></blockquote><p>Ở đây mình tạo unit test lên chạy lệnh: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php artisan make:test Repositories&#x2F;CategoryTest --unit</span><br></pre></td></tr></table></figure><p>Trước khi viết test mình lưu ý 2 function sau: </p><blockquote><p><strong>setUp()</strong> :  Chạy trước mỗi method test. Sử dụng khi muốn khởi tạo biến, mở kết nối file,… chuẩn bị môi trường để test</p></blockquote><blockquote><p><strong>tearDown()</strong>: Chạy sau mỗi method test. Sử dụng để hủy các biến, kết nối,…</p></blockquote><p>Ví dụ :</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Tests</span>\<span class="title">Unit</span>\<span class="title">Repositories</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Tests</span>\<span class="title">TestCase</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Testing</span>\<span class="title">WithFaker</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Testing</span>\<span class="title">RefreshDatabase</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CategoryTest</span> <span class="keyword">extends</span> <span class="title">TestCase</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setUp</span><span class="params">()</span> : <span class="title">void</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">parent</span>::setUp();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">tearDown</span><span class="params">()</span> : <span class="title">void</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">parent</span>::tearDown();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * A basic unit test example 1.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">testExample1</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertTrue(<span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * A basic unit test example 2.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">testExample2</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertTrue(<span class="keyword">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Việc test sẽ lần lượt chạy như sau:</p><ol><li>Method: setUp()</li><li>Method: testExample1()</li><li>Method: tearDown()</li><li>Method: setUp()</li><li>Method: testExample2()</li><li>Method: tearDown()</li></ol><h2 id="Test-chuc-nang-tao-store"><a href="#Test-chuc-nang-tao-store" class="headerlink" title="Test chức năng tạo (store)"></a>Test chức năng tạo (store)</h2><p>Trong file CategoryTest.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">use</span> <span class="title">Tests</span>\<span class="title">TestCase</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Testing</span>\<span class="title">WithFaker</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Testing</span>\<span class="title">RefreshDatabase</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Repositories</span>\<span class="title">CategoryRepository</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Category</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Faker</span>\<span class="title">Factory</span> <span class="title">as</span> <span class="title">Faker</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CategoryTest</span> <span class="keyword">extends</span> <span class="title">TestCase</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $category;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setUp</span><span class="params">()</span> : <span class="title">void</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">parent</span>::setUp();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;faker = Faker::create();</span><br><span class="line">        <span class="comment">// chuẩn bị dữ liệu test</span></span><br><span class="line">        <span class="keyword">$this</span>-&gt;category = [</span><br><span class="line">            <span class="string">'name'</span> =&gt; <span class="keyword">$this</span>-&gt;faker-&gt;name,</span><br><span class="line">            <span class="string">'description'</span> =&gt; <span class="keyword">$this</span>-&gt;faker-&gt;name,</span><br><span class="line">        ];</span><br><span class="line">        <span class="comment">// khởi tạo lớp CategoryRepository</span></span><br><span class="line">        <span class="keyword">$this</span>-&gt;categoryRepository = <span class="keyword">new</span> CategoryRepository();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * A basic unit test store</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">testStore</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="comment">// Gọi hàm tạo</span></span><br><span class="line">        $category = <span class="keyword">$this</span>-&gt;categoryRepository-&gt;storeCategory(<span class="keyword">$this</span>-&gt;category);</span><br><span class="line">        <span class="comment">// Kiểm tra xem kết quả trả về có là thể hiện của lớp Category hay không</span></span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertInstanceOf(Category::class, $category);</span><br><span class="line">        <span class="comment">// Kiểm tra data trả về</span></span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertEquals(<span class="keyword">$this</span>-&gt;category[<span class="string">'name'</span>], $category-&gt;name);</span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertEquals(<span class="keyword">$this</span>-&gt;category[<span class="string">'description'</span>], $category-&gt;description);</span><br><span class="line">        <span class="comment">// Kiểm tra dữ liệu có tồn tại trong cơ sở dữ liệu hay không</span></span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertDatabaseHas(<span class="string">'categories'</span>, <span class="keyword">$this</span>-&gt;category);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>vậy là xong . sau đó chúng ta chạy lệnh để test: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vendor&#x2F;bin&#x2F;phpunit</span><br></pre></td></tr></table></figure><p>Nếu trả về như này là đã pass hết trường hợp:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">PHPUnit 7.5.13 by Sebastian Bergmann and contributors.</span><br><span class="line"></span><br><span class="line">...                                                                 3 &#x2F; 3 (100%)</span><br><span class="line"></span><br><span class="line">Time: 373 ms, Memory: 18.00 MB</span><br><span class="line"></span><br><span class="line">OK (3 tests, 6 assertions)</span><br></pre></td></tr></table></figure><p>Tương tự với các chức năng show, update, destroy</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">Tests</span>\<span class="title">Unit</span>\<span class="title">Repositories</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">use</span> <span class="title">Tests</span>\<span class="title">TestCase</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Testing</span>\<span class="title">WithFaker</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Illuminate</span>\<span class="title">Foundation</span>\<span class="title">Testing</span>\<span class="title">RefreshDatabase</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Repositories</span>\<span class="title">CategoryRepository</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">App</span>\<span class="title">Category</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Faker</span>\<span class="title">Factory</span> <span class="title">as</span> <span class="title">Faker</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CategoryTest</span> <span class="keyword">extends</span> <span class="title">TestCase</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> $category;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">setUp</span><span class="params">()</span> : <span class="title">void</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">parent</span>::setUp();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;faker = Faker::create();</span><br><span class="line">        <span class="keyword">$this</span>-&gt;category = [</span><br><span class="line">            <span class="string">'name'</span> =&gt; <span class="keyword">$this</span>-&gt;faker-&gt;name,</span><br><span class="line">            <span class="string">'description'</span> =&gt; <span class="keyword">$this</span>-&gt;faker-&gt;name,</span><br><span class="line">        ];</span><br><span class="line">        <span class="keyword">$this</span>-&gt;categoryRepository = <span class="keyword">new</span> CategoryRepository();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * A basic unit test store</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> void</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">testStore</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $category = <span class="keyword">$this</span>-&gt;categoryRepository-&gt;storeCategory(<span class="keyword">$this</span>-&gt;category);</span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertInstanceOf(Category::class, $category);</span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertEquals(<span class="keyword">$this</span>-&gt;category[<span class="string">'name'</span>], $category-&gt;name);</span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertEquals(<span class="keyword">$this</span>-&gt;category[<span class="string">'description'</span>], $category-&gt;description);</span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertDatabaseHas(<span class="string">'categories'</span>, <span class="keyword">$this</span>-&gt;category);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">testShow</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $category = factory(Category::class)-&gt;create();</span><br><span class="line">        $found = <span class="keyword">$this</span>-&gt;categoryRepository-&gt;showCategory($category-&gt;id);</span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertInstanceOf(Category::class, $found);</span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertEquals($found-&gt;name, $category-&gt;name);</span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertEquals($found-&gt;description, $category-&gt;description);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">testUpdate</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">       <span class="comment">// Tạo dữ liệu mẫu</span></span><br><span class="line">        $category = factory(Category::class)-&gt;create();</span><br><span class="line">        $newCategory = <span class="keyword">$this</span>-&gt;categoryRepository-&gt;updateCategory(<span class="keyword">$this</span>-&gt;category, $category);</span><br><span class="line">        <span class="comment">// Kiểm tra dữ liệu trả về</span></span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertInstanceOf(Category::class, $newCategory);</span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertEquals($newCategory-&gt;name, <span class="keyword">$this</span>-&gt;category[<span class="string">'name'</span>]);</span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertEquals($newCategory-&gt;description, <span class="keyword">$this</span>-&gt;category[<span class="string">'description'</span>]);</span><br><span class="line">        <span class="comment">// Kiểm tra xem cơ sở dữ liệu đã được cập nhập hay chưa</span></span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertDatabaseHas(<span class="string">'categories'</span>, <span class="keyword">$this</span>-&gt;category);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">testDestroy</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        $category = factory(Category::class)-&gt;create();</span><br><span class="line">        $deleteCategory = <span class="keyword">$this</span>-&gt;categoryRepository-&gt;destroyCategory($category);</span><br><span class="line">        <span class="comment">// Kiểm tra dữ liệu có trả về true hay không</span></span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertTrue($deleteCategory);</span><br><span class="line">        <span class="comment">// kiểm tra xem dữ liệu đã được xóa trong cơ sở dữ liệu hay chưa</span></span><br><span class="line">        <span class="keyword">$this</span>-&gt;assertDatabaseMissing(<span class="string">'categories'</span>, $category-&gt;toArray());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Tong-ket"><a href="#Tong-ket" class="headerlink" title="Tổng kết"></a>Tổng kết</h1><p>Hy vọng qua bài viết này các bạn có thể hiểu hơn về unit test</p><p>Tham khảo: </p><p><a href="https://medium.com/@jsdecena/crud-unit-testing-in-laravel-5-ac286f592cfd" target="_blank" rel="noopener">https://medium.com/@jsdecena/crud-unit-testing-in-laravel-5-ac286f592cfd</a><br><a href="https://laravel.com/docs/5.8/testing" target="_blank" rel="noopener">https://laravel.com/docs/5.8/testing</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Gioi-thieu&quot;&gt;&lt;a href=&quot;#Gioi-thieu&quot; class=&quot;headerlink&quot; title=&quot;Giới thiệu&quot;&gt;&lt;/a&gt;Giới thiệu&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;1. UnitTest là gì?&lt;/strong&gt;&lt;/p
      
    
    </summary>
    
    
    
      <category term="laravel" scheme="https://phamtuananh1996.github.io/tags/laravel/"/>
    
      <category term="unit test" scheme="https://phamtuananh1996.github.io/tags/unit-test/"/>
    
      <category term="crud" scheme="https://phamtuananh1996.github.io/tags/crud/"/>
    
  </entry>
  
  <entry>
    <title>Tìm hiểu về routing trong nuxtjs</title>
    <link href="https://phamtuananh1996.github.io/2019/06/27/tim-hieu-ve-routing-trong-nuxtjs/"/>
    <id>https://phamtuananh1996.github.io/2019/06/27/tim-hieu-ve-routing-trong-nuxtjs/</id>
    <published>2019-06-27T08:49:21.000Z</published>
    <updated>2020-05-27T06:15:36.805Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Gioi-thieu"><a href="#Gioi-thieu" class="headerlink" title="Giới thiệu"></a>Giới thiệu</h1><p>Nhắc đến ứng dụng web thì routing là 1 thành phần không thể thiếu, Và framework nuxtjs cũng hỗ trợ rất tốt việc này.<br>cùng tìm hiểu nhé !</p><p>Nuxt.js tự động tạo ra cấu hình <a href="https://github.com/vuejs/vue-router" target="_blank" rel="noopener">vue-router</a> dựa theo cây thư mục của bạn trong thư mục Pages.</p><blockquote><p>Để chuyển hương giữa các trang thay vì dùng thẻ a thì chúng ta dùng &lt; nuxt-link &gt; component</p></blockquote><p>Ví dụ: </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">nuxt-link</span> <span class="attr">to</span>=<span class="string">"/"</span>&gt;</span>Home page<span class="tag">&lt;/<span class="name">nuxt-link</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="Basic-Routes"><a href="#Basic-Routes" class="headerlink" title="Basic Routes"></a>Basic Routes</h1><p>Ví dụ, nếu cấu trúc thư mục của bạn trong <strong>pages</strong> như này:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pages&#x2F;</span><br><span class="line">--| user&#x2F;</span><br><span class="line">-----| index.vue</span><br><span class="line">-----| one.vue</span><br><span class="line">--| index.vue</span><br></pre></td></tr></table></figure><p>Thì nuxt sẽ tự động tạo ra file config route như thế này: </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">router: &#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">'index'</span>,</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      component: <span class="string">'pages/index.vue'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">'user'</span>,</span><br><span class="line">      path: <span class="string">'/user'</span>,</span><br><span class="line">      component: <span class="string">'pages/user/index.vue'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">'user-one'</span>,</span><br><span class="line">      path: <span class="string">'/user/one'</span>,</span><br><span class="line">      component: <span class="string">'pages/user/one.vue'</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Nhìn khá dễ hiểu phải không. Thay vì mình phải tạo ra file config cho route thì ở nuxt chúng ta chỉ cần tạo cây thư mục trong thư mục <strong>pages</strong></p><h1 id="Dynamic-Routes"><a href="#Dynamic-Routes" class="headerlink" title="Dynamic Routes"></a>Dynamic Routes</h1><p>Để định nghĩa 1 router với tham số. Thì bạn cần đặt tên thư mục hoặc tên file .vue với tiền tố gạch dưới  “_”.</p><p>Ví dụ, cấu trúc cây thư mục trong Pages của bạn như sau:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">pages&#x2F;</span><br><span class="line">--| _slug&#x2F;</span><br><span class="line">-----| comments.vue</span><br><span class="line">-----| index.vue</span><br><span class="line">--| users&#x2F;</span><br><span class="line">-----| _id.vue</span><br><span class="line">--| index.vue</span><br></pre></td></tr></table></figure><p>Thì nó sẽ tự động generate như sau: </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">router: &#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">'index'</span>,</span><br><span class="line">      path: <span class="string">'/'</span>,</span><br><span class="line">      component: <span class="string">'pages/index.vue'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">'users-id'</span>,</span><br><span class="line">      path: <span class="string">'/users/:id?'</span>,</span><br><span class="line">      component: <span class="string">'pages/users/_id.vue'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">'slug'</span>,</span><br><span class="line">      path: <span class="string">'/:slug'</span>,</span><br><span class="line">      component: <span class="string">'pages/_slug/index.vue'</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">'slug-comments'</span>,</span><br><span class="line">      path: <span class="string">'/:slug/comments'</span>,</span><br><span class="line">      component: <span class="string">'pages/_slug/comments.vue'</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Validate tham số trên router:</strong></p><p>Nuxt.js cho phép bạn validate tham số trong phương thức validate() trong component.</p><p>Ví dụ ở file: pages/users/_id.vue : Chúng ta muốn tham số :id phải là số</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  validate (&#123; params &#125;) &#123;</span><br><span class="line">    <span class="comment">// Must be a number</span></span><br><span class="line">    <span class="keyword">return</span> <span class="regexp">/^\d+$/</span>.test(params.id)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Chú ý : nếu phương thứ validate() trả về false hoặc bị lỗi . Nuxtjs sẽ tự động load ra trang lỗi 404 với trường hợp trả về bằng false và trả về trang lỗi 500 nếu phương thức bị lỗi.</p></blockquote><h1 id="Nested-Routes"><a href="#Nested-Routes" class="headerlink" title="Nested Routes"></a>Nested Routes</h1><p>Nuxt.js cho phép chúng ta tạo các router lồng nhau. </p><p>Nếu bạn muốn định nghĩa component cha. bạn cần tạo 1 file .vue giống với tên thư mục mà chứa các view con.</p><p>Nghe có vẻ lằng nhằng mình vào luôn ví dụ nhé.</p><p>Ví dụ cấu trúc cây thư mục của mình như sau: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pages&#x2F;</span><br><span class="line">--| users&#x2F;</span><br><span class="line">-----| _id.vue</span><br><span class="line">-----| index.vue</span><br><span class="line">--| users.vue</span><br></pre></td></tr></table></figure><p>Nó sẽ tự động generate như này: </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">router: &#123;</span><br><span class="line">  routes: [</span><br><span class="line">    &#123;</span><br><span class="line">      path: <span class="string">'/users'</span>,</span><br><span class="line">      component: <span class="string">'pages/users.vue'</span>,</span><br><span class="line">      children: [</span><br><span class="line">        &#123;</span><br><span class="line">          path: <span class="string">''</span>,</span><br><span class="line">          component: <span class="string">'pages/users/index.vue'</span>,</span><br><span class="line">          name: <span class="string">'users'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">          path: <span class="string">':id'</span>,</span><br><span class="line">          component: <span class="string">'pages/users/_id.vue'</span>,</span><br><span class="line">          name: <span class="string">'users-id'</span></span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Đừng quên include <nuxt-child/> component trong component cha (.vue file) nhé !</p></blockquote><h1 id="Middleware"><a href="#Middleware" class="headerlink" title="Middleware"></a>Middleware</h1><p>Middleware cho phép bạn định nghĩa một function trước khi hiển thị một trang hay một nhóm trang.</p><blockquote><p>Tất cả các middleware phải được đặt trong thư mục Middleware và tên file sẽ là tên của middleware. ví dụ (<strong>middleware/auth.js</strong> thì tên middleware sẽ là <strong>auth</strong>)</p></blockquote><p>Một middleware sẽ nhận 1 biến  <a href="https://nuxtjs.org/api/context" target="_blank" rel="noopener">the context</a> làm tham số đầu tiên.</p><p>Ví dụ:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params">context</span>) </span>&#123;</span><br><span class="line">  context.userAgent = process.server ? context.req.headers[<span class="string">'user-agent'</span>] : navigator.userAgent</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Ở chế độ universal, thì middleware sẽ được gọi server-side một lần (Lần đâu tiên request đến nuxt app hoặc khi page được reload lại). với các lần điều hướng tiếp theo thì middleware được thực hiện ở client-side.</p></blockquote><p>Middleware sẽ được thực hiện theo thứ tự: </p><ol><li>nuxt.config.js</li><li>Matched layouts</li><li>Matched pages</li></ol><h1 id="Ket-luan"><a href="#Ket-luan" class="headerlink" title="Kết luận"></a>Kết luận</h1><blockquote><p>Bài tiếp theo mình sẽ tìm hiểu về Views trong nuxtjs</p></blockquote><h1 id="Tham-khao"><a href="#Tham-khao" class="headerlink" title="Tham khảo"></a>Tham khảo</h1><p><a href="https://nuxtjs.org/guide/routing" target="_blank" rel="noopener">https://nuxtjs.org/guide/routing</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Gioi-thieu&quot;&gt;&lt;a href=&quot;#Gioi-thieu&quot; class=&quot;headerlink&quot; title=&quot;Giới thiệu&quot;&gt;&lt;/a&gt;Giới thiệu&lt;/h1&gt;&lt;p&gt;Nhắc đến ứng dụng web thì routing là 1
      
    
    </summary>
    
    
    
      <category term="vuejs" scheme="https://phamtuananh1996.github.io/tags/vuejs/"/>
    
      <category term="nuxtjs" scheme="https://phamtuananh1996.github.io/tags/nuxtjs/"/>
    
  </entry>
  
  <entry>
    <title>Cài đặt và tìm hiểu cấu trúc thư mục của nuxtjs</title>
    <link href="https://phamtuananh1996.github.io/2019/06/26/cai-dat-va-tim-hieu-cau-truc-thu-muc-cua-nuxtjs/"/>
    <id>https://phamtuananh1996.github.io/2019/06/26/cai-dat-va-tim-hieu-cau-truc-thu-muc-cua-nuxtjs/</id>
    <published>2019-06-26T08:54:27.000Z</published>
    <updated>2020-05-27T06:18:16.086Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Gioi-thieu"><a href="#Gioi-thieu" class="headerlink" title="Giới thiệu"></a>Giới thiệu</h1><p>Nuxtjs là một framework sử dụng để xây dựng các ứng dụng từ Vue.js . Vì vậy điều kiện đầu tiên để tìm hiểu Nuxtjs là bạn phải tìm hiểu về vuejs trước.<br>Một số tính năng nổi bật của Next.js:</p><ul><li><strong>Mặc định đã được render phía server</strong></li><li><strong>Tự động split code để load page nhanh hơn</strong></li><li><strong>Đơn giản hóa routing phía client (page based)</strong></li><li><strong>Môi trường dev với webpack-based hỗ trợ Hot Module Replacement (HMR)</strong></li><li><strong>Có thể implement với Express hoặc những Node.js HTTP server khác</strong></li><li><strong>Dễ dàng customize với Babel và Webpack config</strong><h1 id="Cai-dat"><a href="#Cai-dat" class="headerlink" title="Cài đặt"></a>Cài đặt</h1>Để Cài đặt thì chúng ta có 2 cách : </li><li>Dùng tool <a href="https://github.com/nuxt/create-nuxt-app" target="_blank" rel="noopener">create-nuxt-app</a></li><li>Dùng nxp </li></ul><p>Ở đây mình sẽ dùng nxp để cài đặt nuxtjs: </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npx create-nuxt-app &lt;project-name&gt;</span><br></pre></td></tr></table></figure><p>Hoặc qua yarn : </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn create nuxt-app &lt;project-name&gt;</span><br></pre></td></tr></table></figure><p>Trong quá trình cài đặt nó sẽ hỏi bạn 1 số thông tin như: </p><ul><li><strong>Chọn server-side frameworks</strong></li><li><strong>Chọn UI framework ưa thích của bạn</strong></li><li><strong>Chọn testing framework</strong></li><li><strong>Chế độ nuxt mà bạn muốn chọn</strong></li><li>…..</li></ul><p>Sau khi chọn xong các thứ các thứ thì done. Để chạy được app chúng ta cd vào project sau đó chạy lệnh : </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run dev</span><br></pre></td></tr></table></figure><p>Sau khi chạy lệnh này xong thì mở trình duyệt và kiểm tra thành quả ở  <a href="http://localhost:3000" target="_blank" rel="noopener">http://localhost:3000</a>.</p><p><img src="https://images.viblo.asia/c34af29f-0f21-4c3e-95c2-d5bad76eb4d2.png" alt=""></p><h1 id="Cau-truc-thu-muc"><a href="#Cau-truc-thu-muc" class="headerlink" title="Cấu trúc thư mục"></a>Cấu trúc thư mục</h1><h2 id="Assets-Directory"><a href="#Assets-Directory" class="headerlink" title="Assets Directory"></a>Assets Directory</h2><ul><li>Thư mục asset Chứa tài nguyên chưa được biên dịch như: Stylus hoặc Sass files, images, hoặc fonts<h2 id="Components-Directory"><a href="#Components-Directory" class="headerlink" title="Components Directory"></a>Components Directory</h2></li><li>Thư mục components chứa các file vuejs của bạn</li></ul><h2 id="Layouts-Directory"><a href="#Layouts-Directory" class="headerlink" title="Layouts Directory"></a>Layouts Directory</h2><ul><li><p>Thư mục Layouts Chứa các layout (giao diện) cho ứng dụng</p><h2 id="Middleware-Directory"><a href="#Middleware-Directory" class="headerlink" title="Middleware Directory"></a>Middleware Directory</h2></li><li><p>Thư mục Middleware Chức Middleware của ứng dụng, middleware cho phép bạn định nghĩa các function được chạy trước khi render 1 page hoặc nhóm page.</p><h2 id="Pages-Directory"><a href="#Pages-Directory" class="headerlink" title="Pages Directory"></a>Pages Directory</h2></li><li><p>Thư mục Pages Thư mục này chứa các view của ứng dụng cũng như định nghĩa routes cho ứng dụng.</p><h2 id="Plugins-Directory"><a href="#Plugins-Directory" class="headerlink" title="Plugins Directory"></a>Plugins Directory</h2></li><li><p>Thư mục Plugins chức các plugin js</p><h2 id="Static-Directory"><a href="#Static-Directory" class="headerlink" title="Static Directory"></a>Static Directory</h2></li><li><p>Thư mục statis Chứa các file tĩnh như các file ảnh chẳng hạn, được map tự động ví dụ file /static/logo.png sẽ là yoursite/logo.png</p><h2 id="Store-Directory"><a href="#Store-Directory" class="headerlink" title="Store Directory"></a>Store Directory</h2></li><li><p>Thư mục store chứa các file vuex store</p><h2 id="nuxt-config-js-File"><a href="#nuxt-config-js-File" class="headerlink" title="nuxt.config.js File"></a>nuxt.config.js File</h2></li><li><p>File nuxt.config.js Chứa các cấu hình được thiết đặt cho ứng dụng của bạn</p><h2 id="package-json-File"><a href="#package-json-File" class="headerlink" title="package.json File"></a>package.json File</h2></li><li><p>File package.json Quá quen thuộc rồi nó chứa các dependencies và scripts.</p><blockquote><p>Chú ý không được đổi tên file này</p></blockquote><h2 id="Aliases"><a href="#Aliases" class="headerlink" title="Aliases"></a>Aliases</h2><table><thead><tr><th>ALIAS</th><th>DIRECTORY</th></tr></thead><tbody><tr><td>~ or @</td><td>srcDir</td></tr><tr><td>~~ or @@</td><td>rootDir</td></tr></tbody></table></li><li><p>Trong file vue template của bạn, nếu bạn cần link trong thư mục assets hoặc static chúng ta sẽ sử dụng <strong><em>~/assets/yourimage.png</em></strong> và <strong>~/static/your_image.png</strong></p></li></ul><blockquote><p>Mình xin tạm dừng bài viết ở đây. bài này mình đã giới thiệu cách cài đặt và giới thiệu qua câu trúc thư mục NUXT . Bài sau mình sẽ tìm hiểu về routing. cảm ơn các bạn đã đọc hết bài viết.<br>Yêu hay không yêu xin để lại 1 comment ạ.</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Gioi-thieu&quot;&gt;&lt;a href=&quot;#Gioi-thieu&quot; class=&quot;headerlink&quot; title=&quot;Giới thiệu&quot;&gt;&lt;/a&gt;Giới thiệu&lt;/h1&gt;&lt;p&gt;Nuxtjs là một framework sử dụng để xây
      
    
    </summary>
    
    
    
      <category term="vuejs" scheme="https://phamtuananh1996.github.io/tags/vuejs/"/>
    
      <category term="nuxtjs" scheme="https://phamtuananh1996.github.io/tags/nuxtjs/"/>
    
  </entry>
  
  <entry>
    <title>Thay âm thanh tin nhắn Facebook bằng giọng của chị google với chưa đến 10 dòng code</title>
    <link href="https://phamtuananh1996.github.io/2019/01/19/thay-am-thanh-tin-nhan-facebook-bang-giong-cua-chi-google-voi-chua-den-10-dong-code/"/>
    <id>https://phamtuananh1996.github.io/2019/01/19/thay-am-thanh-tin-nhan-facebook-bang-giong-cua-chi-google-voi-chua-den-10-dong-code/</id>
    <published>2019-01-19T14:33:17.000Z</published>
    <updated>2020-05-27T06:21:28.215Z</updated>
    
    <content type="html"><![CDATA[<p>Nay lướt viblo Thấy bài <a href="https://viblo.asia/p/xay-dung-ung-dung-google-extension-don-gian-trong-10-phut-phan-1-RnB5pkrrlPG" target="_blank" rel="noopener">https://viblo.asia/p/xay-dung-ung-dung-google-extension-don-gian-trong-10-phut-phan-1-RnB5pkrrlPG</a> khá hay và mình khá hứng thú .vậy là mình bắt tay ngay vào viết 1 cái gì đó vui vui để thực hành ngay. </p><h2 id="Bai-Toan"><a href="#Bai-Toan" class="headerlink" title="Bài Toán"></a><strong>Bài Toán</strong></h2><p>Mình muốn khi có ai đó nhắn tin cho mình thay vì tiếng báo tin nhắn như thường lệ mà mình muốn 1 âm thanh khác phát lên.</p><p>Như video dưới đây .<strong>nhưng chỉ giống phần kết quả thôi nhé.còn cách làm hoàn toàn khác thanh niên trong video nhé. vì video mình lấy trên mạng</strong>.</p><p>{@embed: <a href="https://www.youtube.com/watch?v=kHFZsUvgH-o}" target="_blank" rel="noopener">https://www.youtube.com/watch?v=kHFZsUvgH-o}</a></p><h2 id="Huong-giai-quyet"><a href="#Huong-giai-quyet" class="headerlink" title="Hướng giải quyết"></a><strong>Hướng giải quyết</strong></h2><ol><li>Khi có tin nhắn thì chắc chắn Fb phải gửi 1 xhr lên để lấy thông tin của tin nhắn ấy =&gt; vậy mình cần phải tìm ra cái xhr đấy .</li><li>Khi xhr được gửi đi thì mình sẽ chạy 1 đoạn script để phát âm thanh mà mình muốn =&gt; vậy mình cần 1 file âm thanh, và 1 đoạn script</li><li>Muốn chạy được đoạn  script ấy mình sẽ dùng chome extension.</li></ol><h2 id="Giai-quyet"><a href="#Giai-quyet" class="headerlink" title="Giải quyết"></a><strong>Giải quyết</strong></h2><p><strong>vấn đề 1 : Khi có tin nhắn thì chắc chắn Fb phải gửi 1 xhr lên để lấy thông tin của tin nhắn ấy =&gt; vậy mình cần phải tìm ra cái xhr đấy</strong> </p><ul><li>Vấn đề này thì khá dễ ràng để tìm ra nhờ chrome developer tool của trình duyệt . sau 1 hồi mò mẫn thì mình đã tìm ra cái xhr ấy</li></ul><p><img src="https://images.viblo.asia/30e2da8e-0c9e-4b78-9c21-e3571b323c3d.PNG" alt=""></p><ul><li>Vậy mình đã tim ra: <a href="https://www.facebook.com/ajax/mercury/delivery_receipts.php" target="_blank" rel="noopener">https://www.facebook.com/ajax/mercury/delivery_receipts.php</a> Mỗi lần có tin nhắn nó đề gửi cái này lên </li></ul><p><strong>vấn đề 2 :Khi xhr được gửi đi thì mình sẽ chạy 1 đoạn script để phát âm thanh mà mình muốn =&gt; vậy mình cần 1 file âm thanh, và 1 đoạn script</strong></p><ul><li><p>file âm thanh chị goole nói thì các bạn có thể truy cập <a href="https://translate.google.com/translate_tts?ie=UTF-8&amp;client=tw-ob&amp;q=am-thanh-muon-phat&amp;tl=vi&amp;total=1&amp;idx=0&amp;textlen=5" target="_blank" rel="noopener">https://translate.google.com/translate_tts?ie=UTF-8&amp;client=tw-ob&amp;q=am-thanh-muon-phat&amp;tl=vi&amp;total=1&amp;idx=0&amp;textlen=5</a> để tải xuống file âm thanh và thay âm thanh bạn muốn phát vào thôi.</p></li><li><p>Đoạn scrip phát âm thanh thì chỉ cần đơn giản thế này thôi :</p><pre><code>var audio = new Audio(&apos;duong-dan-den-file-am-thanh.mp3&apos;);audio.play();</code></pre></li></ul><p>*<em>Vấn đề 3 : Viết chome extension  *</em></p><ul><li>Mình sẽ tạo ra 1 thư mục chứa 3 file :</li></ul><ol><li>index.js =&gt; chứa đoạn script</li><li>manifest.json =&gt; dùng để cấu hình cho extension</li><li>notification.mp3 =&gt; file âm thanh</li></ol><h2 id="Cau-hinh-file-manifest-json"><a href="#Cau-hinh-file-manifest-json" class="headerlink" title="Cấu hình file manifest.json"></a><strong>Cấu hình file manifest.json</strong></h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"Google and facebook"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"1.0"</span>,</span><br><span class="line">  <span class="string">"description"</span>: <span class="string">"Google and facebook!"</span>,</span><br><span class="line">  <span class="string">"permissions"</span>: [<span class="string">"webRequest"</span>,<span class="string">"https://www.facebook.com/*"</span>],</span><br><span class="line">  <span class="string">"background"</span>: &#123;</span><br><span class="line">    <span class="string">"scripts"</span>: [<span class="string">"index.js"</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">"manifest_version"</span>: <span class="number">2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>permissions : ở đây mình xin quyền webRequest và mình chỉ sử dụng tiện ích này khi truy cập trang facebook</li><li>các thông số khác chắc không phải giải thích gì thêm</li></ul><h2 id="File-index-js"><a href="#File-index-js" class="headerlink" title="File index.js"></a><strong>File index.js</strong></h2><ul><li><p>Ở đây mình sẽ dùng webRequest để theo dõi khi có tin nhắn dựa vào cái xhr mình vừa tìm được</p></li><li><p>Các bạn có thể xem chi tiết: <a href="https://developer.chrome.com/extensions/webRequest" target="_blank" rel="noopener">https://developer.chrome.com/extensions/webRequest</a></p></li><li><p>Đây là ví dụ lắng nghe sự kiện onBeforeRequest :</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chrome.webRequest.onBeforeRequest.addListener(</span><br><span class="line">        callback, filter, opt_extraInfoSpec);</span><br></pre></td></tr></table></figure></li><li><p>vậy callback sẽ là function để thực thi 1 hành động gì đó khi thỏa mãn cái filter kia.</p></li><li><p>Ở ví dụ này thì cái callback sẽ là function phát âm thanh, filter sẽ là cái urls [“<a href="https://www.facebook.com/ajax/mercury/delivery_receipts.php*&quot;]" target="_blank" rel="noopener">https://www.facebook.com/ajax/mercury/delivery_receipts.php*&quot;]</a></p></li><li><p>Vậy mình ghép code file index.js  như sau:</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">chrome.webRequest.onBeforeRequest.addListener(</span><br><span class="line">  function (details) &#123;</span><br><span class="line">    var audio &#x3D; new Audio(&#39;notification.mp3&#39;);</span><br><span class="line">    audio.play();</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    urls: [&quot;https:&#x2F;&#x2F;www.facebook.com&#x2F;ajax&#x2F;mercury&#x2F;delivery_receipts.php*&quot;]</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure><p>Vậy là xong : giờ mình đã có 1 thư mục chứa 3 file index.js, manifest.json, notification.mp3 . giờ mình chỉ việc import vào trình duyệt và test thành quả thôi.</p><ul><li>Để import vào trình duyệt bạn vào đường dẫn chrome://extensions/ bật chế độ nhà phát triển và tải lên tiện ích thì các b chỉ cần chọn đến thư mục chưa 3 file kia là ok .</li></ul><p><img src="https://images.viblo.asia/9a8e6ef8-4b23-4812-b423-123b0cc0d1cd.PNG" alt=""></p><h2 id="Ket-luan"><a href="#Ket-luan" class="headerlink" title="Kết luận:"></a>Kết luận:</h2><ul><li>Vậy là xong giờ bạn vào facebook để xem thành quả thôi ! :) :100::joy: . Thành công hay không nhớ comment cho mình biết nhé !!!</li><li>link github : <a href="https://github.com/phamtuananh1996/chome-extension" target="_blank" rel="noopener">https://github.com/phamtuananh1996/chome-extension</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Nay lướt viblo Thấy bài &lt;a href=&quot;https://viblo.asia/p/xay-dung-ung-dung-google-extension-don-gian-trong-10-phut-phan-1-RnB5pkrrlPG&quot; targe
      
    
    </summary>
    
    
    
      <category term="javascript" scheme="https://phamtuananh1996.github.io/tags/javascript/"/>
    
      <category term="extension" scheme="https://phamtuananh1996.github.io/tags/extension/"/>
    
      <category term="facebook" scheme="https://phamtuananh1996.github.io/tags/facebook/"/>
    
  </entry>
  
</feed>
